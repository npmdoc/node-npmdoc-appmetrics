<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/RuntimeTools/appmetrics#readme">appmetrics (v3.0.1)</a>
</h1>
<h4>Node Application Metrics</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics">module appmetrics</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.axon_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>axon_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.basho_riak_client_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>basho_riak_client_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_outbound_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>http_outbound_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>http_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.leveldown_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>leveldown_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.loopback_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>loopback_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.memcached_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>memcached_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mongo_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqlight_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mqlight_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqtt_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mqtt_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mysql_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mysql_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracle_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>oracle_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracledb_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>oracledb_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.postgres_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>postgres_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>probe
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.redis_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>redis_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.socketio_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>socketio_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_express_metrics_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>strong_express_metrics_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_mq_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>strong_mq_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strongoracle_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>strongoracle_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.trace_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>trace_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>appmetrics_api</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>aspect</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>axon_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>basho_riak_client_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>headless_zip</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>heapdump</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>http_outbound_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>http_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>leveldown_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>loopback_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>memcached_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>mongo_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>mqlight_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>mqtt_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>mysql_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>oracle_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>oracledb_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>postgres_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>redis_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>request</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>serializer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>socketio_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>strong_express_metrics_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>strong_mq_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>strongoracle_probe.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>timer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">appmetrics.</span>trace_probe.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.appmetrics_api">module appmetrics.appmetrics_api</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.appmetrics_api.getAPI">
            function <span class="apidocSignatureSpan">appmetrics.appmetrics_api.</span>getAPI
            <span class="apidocSignatureSpan">(agent, appmetrics)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.aspect">module appmetrics.aspect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.aspect.after">
            function <span class="apidocSignatureSpan">appmetrics.aspect.</span>after
            <span class="apidocSignatureSpan">(target, meths, context, hookAfter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.aspect.afterConstructor">
            function <span class="apidocSignatureSpan">appmetrics.aspect.</span>afterConstructor
            <span class="apidocSignatureSpan">(target, context, hookAfter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.aspect.around">
            function <span class="apidocSignatureSpan">appmetrics.aspect.</span>around
            <span class="apidocSignatureSpan">(target, meths, hookBefore, hookAfter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.aspect.aroundCallback">
            function <span class="apidocSignatureSpan">appmetrics.aspect.</span>aroundCallback
            <span class="apidocSignatureSpan">(args, context, hookBefore, hookAfter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.aspect.before">
            function <span class="apidocSignatureSpan">appmetrics.aspect.</span>before
            <span class="apidocSignatureSpan">(target, meths, hookBefore)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.aspect.findCallbackArg">
            function <span class="apidocSignatureSpan">appmetrics.aspect.</span>findCallbackArg
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.aspect.strongTraceTransactionLink">
            function <span class="apidocSignatureSpan">appmetrics.aspect.</span>strongTraceTransactionLink
            <span class="apidocSignatureSpan">(probeName, methodName, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.axon_probe">module appmetrics.axon_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.axon_probe.axon_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>axon_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.axon_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.axon_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.axon_probe.prototype">module appmetrics.axon_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.axon_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.axon_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs, socketType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.axon_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.axon_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.basho_riak_client_probe">module appmetrics.basho_riak_client_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.basho_riak_client_probe.basho_riak_client_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>basho_riak_client_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.basho_riak_client_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.basho_riak_client_probe.prototype">module appmetrics.basho_riak_client_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.headless_zip">module appmetrics.headless_zip</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.headless_zip.headlessZip">
            function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>headlessZip
            <span class="apidocSignatureSpan">(dirToZip)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.headless_zip.setFilesToKeep">
            function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>setFilesToKeep
            <span class="apidocSignatureSpan">(numFiles)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.headless_zip.setHeadlessOutputDir">
            function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>setHeadlessOutputDir
            <span class="apidocSignatureSpan">(dir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.headless_zip.tryZipOnExit">
            function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>tryZipOnExit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.heapdump">module appmetrics.heapdump</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.heapdump.writeSnapshot">
            function <span class="apidocSignatureSpan">appmetrics.heapdump.</span>writeSnapshot
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.http_outbound_probe">module appmetrics.http_outbound_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_outbound_probe.http_outbound_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>http_outbound_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_outbound_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.http_outbound_probe.prototype">module appmetrics.http_outbound_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_outbound_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_outbound_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, url, res, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_outbound_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, url, res, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_outbound_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.http_probe">module appmetrics.http_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.http_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>http_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.http_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.http_probe.prototype">module appmetrics.http_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.prototype.filterUrl">
            function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>filterUrl
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, url, res, httpReq)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, url, res, httpReq)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.http_probe.prototype.setConfig">
            function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>setConfig
            <span class="apidocSignatureSpan">(newConfig)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.leveldown_probe">module appmetrics.leveldown_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.leveldown_probe.leveldown_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>leveldown_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.leveldown_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.leveldown_probe.prototype">module appmetrics.leveldown_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.leveldown_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.leveldown_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.leveldown_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.leveldown_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, dbTarget, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.loopback_probe">module appmetrics.loopback_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.loopback_probe.loopback_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>loopback_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.loopback_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.loopback_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.loopback_probe.prototype">module appmetrics.loopback_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.loopback_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.loopback_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.loopback_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.loopback_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, target, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.memcached_probe">module appmetrics.memcached_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.memcached_probe.memcached_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>memcached_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.memcached_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.memcached_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.memcached_probe.prototype">module appmetrics.memcached_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.memcached_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.memcached_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(context, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.memcached_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.memcached_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mongo_probe">module appmetrics.mongo_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe.mongo_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mongo_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.mongo_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mongo_probe.prototype">module appmetrics.mongo_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe.prototype.aspectCollectionMethod">
            function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>aspectCollectionMethod
            <span class="apidocSignatureSpan">(coll, method)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, collectionName, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mongo_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, target, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mqlight_probe">module appmetrics.mqlight_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqlight_probe.mqlight_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mqlight_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqlight_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mqlight_probe.prototype">module appmetrics.mqlight_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqlight_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqlight_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs, client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqlight_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs, client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqlight_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mqtt_probe">module appmetrics.mqtt_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqtt_probe.mqtt_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mqtt_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqtt_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mqtt_probe.prototype">module appmetrics.mqtt_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqtt_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqtt_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqtt_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mqtt_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mysql_probe">module appmetrics.mysql_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mysql_probe.mysql_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>mysql_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mysql_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.mysql_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.mysql_probe.prototype">module appmetrics.mysql_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mysql_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mysql_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mysql_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.mysql_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.oracle_probe">module appmetrics.oracle_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracle_probe.oracle_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>oracle_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracle_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.oracle_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.oracle_probe.prototype">module appmetrics.oracle_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracle_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracle_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracle_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracle_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.oracledb_probe">module appmetrics.oracledb_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracledb_probe.oracledb_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>oracledb_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracledb_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.oracledb_probe.prototype">module appmetrics.oracledb_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracledb_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracledb_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracledb_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.oracledb_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.postgres_probe">module appmetrics.postgres_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.postgres_probe.postgres_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>postgres_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.postgres_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.postgres_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.postgres_probe.prototype">module appmetrics.postgres_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.postgres_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.postgres_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.postgres_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.postgres_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, target, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.probe">module appmetrics.probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>probe
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.probe.prototype">module appmetrics.probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.disable">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>disable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.disableRequests">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>disableRequests
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.enable">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>enable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.enableRequests">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>enableRequests
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.metricsProbeEnd">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsProbeEnd
            <span class="apidocSignatureSpan">(req, res, am)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.metricsProbeStart">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsProbeStart
            <span class="apidocSignatureSpan">(req, res, am)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.metricsStart">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsStart
            <span class="apidocSignatureSpan">(probeData)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(req, res, am)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.requestProbeEnd">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestProbeEnd
            <span class="apidocSignatureSpan">(req, res, am)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.requestProbeStart">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestProbeStart
            <span class="apidocSignatureSpan">(req, res, am)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(req, res, am)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.setConfig">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>setConfig
            <span class="apidocSignatureSpan">(newConfig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.start">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.probe.prototype.stop">
            function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.redis_probe">module appmetrics.redis_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.redis_probe.redis_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>redis_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.redis_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.redis_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.redis_probe.prototype">module appmetrics.redis_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.redis_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.redis_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, cmd, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.redis_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, cmd, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.redis_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, cmd, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.request">module appmetrics.request</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.request.setConfig">
            function <span class="apidocSignatureSpan">appmetrics.request.</span>setConfig
            <span class="apidocSignatureSpan">(newConfig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.request.startMethod">
            function <span class="apidocSignatureSpan">appmetrics.request.</span>startMethod
            <span class="apidocSignatureSpan">( name , eventTimer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.request.startRequest">
            function <span class="apidocSignatureSpan">appmetrics.request.</span>startRequest
            <span class="apidocSignatureSpan">( type, name, root, eventTimer )</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.serializer">module appmetrics.serializer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.serializer.deserialize">
            function <span class="apidocSignatureSpan">appmetrics.serializer.</span>deserialize
            <span class="apidocSignatureSpan">(obj, objCache)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.serializer.serialize">
            function <span class="apidocSignatureSpan">appmetrics.serializer.</span>serialize
            <span class="apidocSignatureSpan">(obj, objCache, id)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.socketio_probe">module appmetrics.socketio_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.socketio_probe.socketio_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>socketio_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.socketio_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.socketio_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.socketio_probe.prototype">module appmetrics.socketio_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.socketio_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.socketio_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.socketio_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.socketio_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.strong_express_metrics_probe">module appmetrics.strong_express_metrics_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_express_metrics_probe.strong_express_metrics_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>strong_express_metrics_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_express_metrics_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.strong_express_metrics_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.strong_express_metrics_probe.prototype">module appmetrics.strong_express_metrics_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_express_metrics_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.strong_express_metrics_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.strong_mq_probe">module appmetrics.strong_mq_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_mq_probe.strong_mq_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>strong_mq_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_mq_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.strong_mq_probe.prototype">module appmetrics.strong_mq_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_mq_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_mq_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs, eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_mq_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(context, methodName, methodArgs, socketType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strong_mq_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(context, methodName, methodArgs, socketType)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.strongoracle_probe">module appmetrics.strongoracle_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strongoracle_probe.strongoracle_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>strongoracle_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strongoracle_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.strongoracle_probe.prototype">module appmetrics.strongoracle_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strongoracle_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">(name, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strongoracle_probe.prototype.metricsEnd">
            function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>metricsEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strongoracle_probe.prototype.requestEnd">
            function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>requestEnd
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.strongoracle_probe.prototype.requestStart">
            function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>requestStart
            <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.timer">module appmetrics.timer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.timer.start">
            function <span class="apidocSignatureSpan">appmetrics.timer.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.trace_probe">module appmetrics.trace_probe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.trace_probe.trace_probe">
            function <span class="apidocSignatureSpan">appmetrics.</span>trace_probe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.trace_probe.super_">
            function <span class="apidocSignatureSpan">appmetrics.trace_probe.</span>super_
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.appmetrics.trace_probe.prototype">module appmetrics.trace_probe.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.trace_probe.prototype.attach">
            function <span class="apidocSignatureSpan">appmetrics.trace_probe.prototype.</span>attach
            <span class="apidocSignatureSpan">( moduleName, target )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.trace_probe.prototype.enable">
            function <span class="apidocSignatureSpan">appmetrics.trace_probe.prototype.</span>enable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.appmetrics.trace_probe.prototype.enableRequests">
            function <span class="apidocSignatureSpan">appmetrics.trace_probe.prototype.</span>enableRequests
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics" id="apidoc.module.appmetrics">module appmetrics</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.axon_probe" id="apidoc.element.appmetrics.axon_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>axon_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AxonProbe() {
	Probe.call(this, 'axon');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.basho_riak_client_probe" id="apidoc.element.appmetrics.basho_riak_client_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>basho_riak_client_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RiakProbe() {
    Probe.call(this, 'basho-riak-client');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_outbound_probe" id="apidoc.element.appmetrics.http_outbound_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>http_outbound_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HttpOutboundProbe() {
    Probe.call(this, 'http'); // match the name of the module we're instrumenting
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_probe" id="apidoc.element.appmetrics.http_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>http_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HttpProbe() {
	Probe.call(this, 'http');
	this.config = {
			filters: []
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.leveldown_probe" id="apidoc.element.appmetrics.leveldown_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>leveldown_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LeveldownProbe(){
	Probe.call(this, 'leveldown');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.loopback_probe" id="apidoc.element.appmetrics.loopback_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>loopback_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function loopbackDJProbe(){
	Probe.call(this, 'loopback-datasource-juggler');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.memcached_probe" id="apidoc.element.appmetrics.memcached_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>memcached_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemcachedProbe() {
	Probe.call(this, 'memcached');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe" id="apidoc.element.appmetrics.mongo_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mongo_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoProbe() {
    Probe.call(this, 'mongodb');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqlight_probe" id="apidoc.element.appmetrics.mqlight_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mqlight_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MQLightProbe() {
	Probe.call(this, 'mqlight');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqtt_probe" id="apidoc.element.appmetrics.mqtt_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mqtt_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MqttProbe() {
	Probe.call(this, 'mqtt');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mysql_probe" id="apidoc.element.appmetrics.mysql_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mysql_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MySqlProbe() {
	Probe.call(this, 'mysql');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracle_probe" id="apidoc.element.appmetrics.oracle_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>oracle_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OracleProbe() {
	Probe.call(this, 'oracle');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracledb_probe" id="apidoc.element.appmetrics.oracledb_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>oracledb_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OracleDBProbe() {
	Probe.call(this, 'oracledb');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.postgres_probe" id="apidoc.element.appmetrics.postgres_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>postgres_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PostgresProbe() {
  Probe.call(this, 'pg');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe" id="apidoc.element.appmetrics.probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>probe
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.redis_probe" id="apidoc.element.appmetrics.redis_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>redis_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RedisProbe() {
	Probe.call(this, 'redis');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.socketio_probe" id="apidoc.element.appmetrics.socketio_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>socketio_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SocketioProbe() {
	Probe.call(this, 'socket.io');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strong_express_metrics_probe" id="apidoc.element.appmetrics.strong_express_metrics_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>strong_express_metrics_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StrongExpressMetricsProbe() {
  Probe.call(this, 'strong-express-metrics');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strong_mq_probe" id="apidoc.element.appmetrics.strong_mq_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>strong_mq_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Strong_MQProbe() {
	Probe.call(this, 'strong-mq');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strongoracle_probe" id="apidoc.element.appmetrics.strongoracle_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>strongoracle_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StrongOracleProbe() {
	Probe.call(this, 'strong-oracle');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.trace_probe" id="apidoc.element.appmetrics.trace_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>trace_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TraceProbe() {
    Probe.call(this, 'trace');
    this.config = {
            includeModules: [],
            excludeModules: []
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


























































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.appmetrics_api" id="apidoc.module.appmetrics.appmetrics_api">module appmetrics.appmetrics_api</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.appmetrics_api.getAPI" id="apidoc.element.appmetrics.appmetrics_api.getAPI">
        function <span class="apidocSignatureSpan">appmetrics.appmetrics_api.</span>getAPI
        <span class="apidocSignatureSpan">(agent, appmetrics)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAPI = function (agent, appmetrics) {
	return new API(agent, appmetrics);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

// Export monitor() API for consuming data in-process
module.exports.monitor = function() {

    if (typeof(this.api) == 'undefined') {
      this.start();
      this.api = hcAPI.<span class="apidocCodeKeywordSpan">getAPI</span>(agent, module.exports);
    }
    return this.api;
};

module.exports.lrtime = agent.lrtime;

module.exports.configure = function(options) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.aspect" id="apidoc.module.appmetrics.aspect">module appmetrics.aspect</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.aspect.after" id="apidoc.element.appmetrics.aspect.after">
        function <span class="apidocSignatureSpan">appmetrics.aspect.</span>after
        <span class="apidocSignatureSpan">(target, meths, context, hookAfter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">after = function (target, meths, context, hookAfter) {
	if(!Array.isArray(meths)) {
		meths = [meths];
	}
	
	meths.forEach(function(methodName) {
		var existing = target[methodName];
		if(!existing) return;

		var newFunc = function() {
				var ret = existing.apply(this, arguments);
				return hookAfter(this, methodName, arguments, context, ret);
			};
		newFunc.prototype = existing.prototype;

		target[methodName] = newFunc;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/*
 * Patch the module require function to run the probe attach function
 * for any matching module. This loads the monitoring probes into the modules
 */
var data = {};

aspect.<span class="apidocCodeKeywordSpan">after</span>(module.__proto__, 'require', data, function(obj, methodName, args
, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].attach(args[0], ret, module.exports);
        }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.aspect.afterConstructor" id="apidoc.element.appmetrics.aspect.afterConstructor">
        function <span class="apidocSignatureSpan">appmetrics.aspect.</span>afterConstructor
        <span class="apidocSignatureSpan">(target, context, hookAfter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">afterConstructor = function (target, context, hookAfter) {
	if (typeof(target) === 'function') {
		var newFunc = function() {
			var ret = target.apply(null, arguments);
			return hookAfter(this, '()', arguments, context, ret);
		};
		for (var property in target) {
			if (target.hasOwnProperty(property)){
				newFunc[property] = target[property];
			}
		}
		newFunc.prototype = target.prototype;
		newFunc.exports = target.exports;
		return newFunc;
	} else {
		return target;
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 */

	/*
	 * Patch the constructor so that we can patch io.sockets.emit() calls
	 * to broadcast to clients. This also picks up calls to io.emit() as
	 * they map down to io.socket.emit()
	 */
	var newtarget = aspect.<span class="apidocCodeKeywordSpan">afterConstructor</span>(target, {},
		function(target, methodName, methodArgs, context, server) {
			var broadcast = 'broadcast';
			aspect.around(server.sockets, 'emit',
				function(target, methodName, methodArgs, context){
					that.metricsProbeStart(context, broadcast, methodArgs);
					that.requestProbeStart(context, broadcast, methodArgs);
				},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.aspect.around" id="apidoc.element.appmetrics.aspect.around">
        function <span class="apidocSignatureSpan">appmetrics.aspect.</span>around
        <span class="apidocSignatureSpan">(target, meths, hookBefore, hookAfter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">around = function (target, meths, hookBefore, hookAfter) {
	if(!Array.isArray(meths)) {
		meths = [meths];
	}
	
	meths.forEach(function(methodName) {
		var existing = target[methodName];
		if(!existing) return;

		var newFunc = function() {
				var context = {};
				hookBefore(this, methodName, arguments, context);
				var ret = existing.apply(this, arguments);
				return hookAfter(this, methodName, arguments, context, ret);
			};
		newFunc.prototype = existing.prototype;

		target[methodName] = newFunc;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	if( name != "axon" ) return target;
	target.__ddProbeAttached__ = true;

	aspect.after(target, ['socket'], {}, function(target, methodName, methodArgs, context, client) {
		var socketType = methodArgs[0];
		if( isSendMethod(socketType) ) {
			var methods = sendTypeToMethod[socketType];
			aspect.<span class="apidocCodeKeywordSpan">around</span>(client, methods,
					function(target, methodName, methodArgs, context){
				that.metricsProbeStart(context, methodName, methodArgs);
				that.requestProbeStart(context, methodName, methodArgs);
				aspect.aroundCallback(methodArgs, context,
						function(target, args, context) {

					//Call the transaction link with a name and the callback for strong trace
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.aspect.aroundCallback" id="apidoc.element.appmetrics.aspect.aroundCallback">
        function <span class="apidocSignatureSpan">appmetrics.aspect.</span>aroundCallback
        <span class="apidocSignatureSpan">(args, context, hookBefore, hookAfter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">aroundCallback = function (args, context, hookBefore, hookAfter) {
	var position = this.findCallbackArg(args);
	if(position == undefined) return;

	var orig = args[position];

	args[position] = function() {
		if(hookBefore) {
			hookBefore(this, arguments, context);
		}

		var ret = orig.apply(this, arguments);

		if(hookAfter) {
			hookAfter(this, arguments, context, ret);
		}
		return ret;
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var socketType = methodArgs[0];
		if( isSendMethod(socketType) ) {
			var methods = sendTypeToMethod[socketType];
			aspect.around(client, methods,
					function(target, methodName, methodArgs, context){
				that.metricsProbeStart(context, methodName, methodArgs);
				that.requestProbeStart(context, methodName, methodArgs);
				aspect.<span class="apidocCodeKeywordSpan">aroundCallback</span>(methodArgs, context,
						function(target, args, context) {

					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
						aspect.strongTraceTransactionLink('axon', methodName, methodArgs[callbackPosition]);
					}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.aspect.before" id="apidoc.element.appmetrics.aspect.before">
        function <span class="apidocSignatureSpan">appmetrics.aspect.</span>before
        <span class="apidocSignatureSpan">(target, meths, hookBefore)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">before = function (target, meths, hookBefore) {
	if(!Array.isArray(meths)) {
		meths = [meths];
	}
	
	meths.forEach(function(methodName) {
		var existing = target[methodName];
		if(!existing) return;

		var newFunc = function() {
			var context = {};
			hookBefore(this, methodName, arguments, context);
			return existing.apply(this, arguments);
		};
		newFunc.prototype = existing.prototype;

		target[methodName] = newFunc;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
					that.requestProbeEnd(context, methodName, methodArgs, socketType);
				}
				return rc;
			}
			);
		} else {
			var methods = ['on', 'addListener'];
			aspect.<span class="apidocCodeKeywordSpan">before</span>(client, methods,
					function(target, methodName, methodArgs, context) {
				var eventName = methodArgs[0];
				if (aspect.findCallbackArg(methodArgs) != undefined) {
					aspect.aroundCallback(methodArgs, context,
							function(target, args, context){

						//Call the transaction link with a name and the callback for strong trace
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.aspect.findCallbackArg" id="apidoc.element.appmetrics.aspect.findCallbackArg">
        function <span class="apidocSignatureSpan">appmetrics.aspect.</span>findCallbackArg
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findCallbackArg = function (args) {
	var position = undefined;
    for (var i = 0; i &lt; args.length; i++) {
        if((typeof args[i] === 'function')) {
            position = i;
            break;
        }
    }
    return position;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *******************************************************************************/
var appmetrics = require('../');

exports.aroundCallback = function(args, context, hookBefore, hookAfter) {
	var position = this.<span class="apidocCodeKeywordSpan">findCallbackArg</span>(args);
	if(position == undefined) return;

	var orig = args[position];

	args[position] = function() {
		if(hookBefore) {
			hookBefore(this, arguments, context);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.aspect.strongTraceTransactionLink" id="apidoc.element.appmetrics.aspect.strongTraceTransactionLink">
        function <span class="apidocSignatureSpan">appmetrics.aspect.</span>strongTraceTransactionLink
        <span class="apidocSignatureSpan">(probeName, methodName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">strongTraceTransactionLink = function (probeName, methodName, callback) {
	var linkName = probeName + methodName;
	appmetrics.transactionLink(linkName,callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				that.requestProbeStart(context, methodName, methodArgs);
				aspect.aroundCallback(methodArgs, context,
						function(target, args, context) {

					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
						aspect.<span class="apidocCodeKeywordSpan">strongTraceTransactionLink</span>('axon', methodName, methodArgs[callbackPosition
]);
					}

					that.metricsProbeEnd(context, methodName, methodArgs, socketType);
					that.requestProbeEnd(context, methodName, methodArgs, socketType);
				}
				);
			},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.axon_probe" id="apidoc.module.appmetrics.axon_probe">module appmetrics.axon_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.axon_probe.axon_probe" id="apidoc.element.appmetrics.axon_probe.axon_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>axon_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AxonProbe() {
	Probe.call(this, 'axon');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.axon_probe.super_" id="apidoc.element.appmetrics.axon_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.axon_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.axon_probe.prototype" id="apidoc.module.appmetrics.axon_probe.prototype">module appmetrics.axon_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.axon_probe.prototype.attach" id="apidoc.element.appmetrics.axon_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != "axon" ) return target;
	target.__ddProbeAttached__ = true;

	aspect.after(target, ['socket'], {}, function(target, methodName, methodArgs, context, client) {
		var socketType = methodArgs[0];
		if( isSendMethod(socketType) ) {
			var methods = sendTypeToMethod[socketType];
			aspect.around(client, methods,
					function(target, methodName, methodArgs, context){
				that.metricsProbeStart(context, methodName, methodArgs);
				that.requestProbeStart(context, methodName, methodArgs);
				aspect.aroundCallback(methodArgs, context,
						function(target, args, context) {

					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
						aspect.strongTraceTransactionLink('axon', methodName, methodArgs[callbackPosition]);
					}

					that.metricsProbeEnd(context, methodName, methodArgs, socketType);
					that.requestProbeEnd(context, methodName, methodArgs, socketType);
				}
				);
			},
			function (target, methodName, methodArgs, context, rc) {
				if (aspect.findCallbackArg(methodArgs) == undefined) {
					that.metricsProbeEnd(context, methodName, methodArgs, socketType);
					that.requestProbeEnd(context, methodName, methodArgs, socketType);
				}
				return rc;
			}
			);
		} else {
			var methods = ['on', 'addListener'];
			aspect.before(client, methods,
					function(target, methodName, methodArgs, context) {
				var eventName = methodArgs[0];
				if (aspect.findCallbackArg(methodArgs) != undefined) {
					aspect.aroundCallback(methodArgs, context,
							function(target, args, context){

						//Call the transaction link with a name and the callback for strong trace
						var callbackPosition = aspect.findCallbackArg(methodArgs);
						if (typeof(callbackPosition) != 'undefined') {
							aspect.strongTraceTransactionLink('axon: ', eventName, args[callbackPosition]);
						}

						that.metricsProbeStart(context, eventName, methodArgs, socketType);
						that.requestProbeStart(context, eventName, methodArgs, socketType);
					},
					function (target, methodArgs, context, rc) {
						that.metricsProbeEnd(context, eventName, methodArgs, socketType);
						that.requestProbeEnd(context, eventName, methodArgs, socketType);
						return rc;
					}
					);
				};
			}
			);
		}
		return client;
	});
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.axon_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.axon_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs, socketType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (context, methodName, methodArgs, socketType) {
    if(context &amp;&amp; context.timer) {
	    context.timer.stop();
	    // default to quality of service (qos) 0, as that's what the axon module does
	    if( isSendMethod(socketType) ) {
		    am.emit('axon', {time: context.timer.startTimeMillis, method: methodName, duration: context.timer.timeDelta, type: socketType
})
	    } else {
		    am.emit('axon', {time: context.timer.startTimeMillis, event: methodName, duration: context.timer.timeDelta, type: socketType
})
	    };
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.axon_probe.prototype.requestEnd" id="apidoc.element.appmetrics.axon_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (context, methodName, methodArgs) {
    if(context &amp;&amp; context.req)
	    context.req.stop({topic: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.axon_probe.prototype.requestStart" id="apidoc.element.appmetrics.axon_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.axon_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (context, methodName, methodArgs) {
	if (methodName === 'message') {
		context.req = request.startRequest('axon', methodName, true, context.timer);
	} else {
		context.req = request.startRequest('axon', methodName, false, context.timer);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.basho_riak_client_probe" id="apidoc.module.appmetrics.basho_riak_client_probe">module appmetrics.basho_riak_client_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.basho_riak_client_probe.basho_riak_client_probe" id="apidoc.element.appmetrics.basho_riak_client_probe.basho_riak_client_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>basho_riak_client_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RiakProbe() {
    Probe.call(this, 'basho-riak-client');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.basho_riak_client_probe.super_" id="apidoc.element.appmetrics.basho_riak_client_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.basho_riak_client_probe.prototype" id="apidoc.module.appmetrics.basho_riak_client_probe.prototype">module appmetrics.basho_riak_client_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.attach" id="apidoc.element.appmetrics.basho_riak_client_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
    var that = this;
    if( name != "basho-riak-client" ) return target;
    if(target.__ddProbeAttached__) return target;
    target.__ddProbeAttached__ = true;

    var data = {};
    aspect.after(target, 'Client', data, function(clientTarget, methodName, args, probeData, rc) {

        //For all methods
        var methods = callbackOnlyMethods.concat(optionsAndCallbackMethods,
                                                 commandMethods,queryMethods,
                                                 noParameterMethods);

        //Start probing before the method is executed
        aspect.around(clientTarget, methods,
            function(target, methodName, methodArgs, probeData) {
                that.metricsProbeStart(probeData, target, methodName, methodArgs);
                that.requestProbeStart(probeData, target, methodName, methodArgs);

                //If the method contains a callback, finish probing when the callback returns
                if (aspect.findCallbackArg(methodArgs) != undefined) {
                    aspect.aroundCallback(methodArgs, probeData, function(target, args, probeData) {

                        //Call the transaction link with a name and the callback for strong trace
                        var callbackPosition = aspect.findCallbackArg(methodArgs);
                        if (typeof(callbackPosition) != 'undefined') {
                            aspect.strongTraceTransactionLink('basho-riak-client: ', methodName, methodArgs[callbackPosition]);
                        }

                        that.metricsProbeEnd(probeData, methodName, methodArgs);
                        that.requestProbeEnd(probeData, methodName, methodArgs);
                    });
                }
            },
            //Otherwise if there is no callback finish probing when the method returns
            function(target, methodName, methodArgs, probeData, rc) {
                if (aspect.findCallbackArg(methodArgs) == undefined) {
                    that.metricsProbeEnd(probeData, methodName, methodArgs);
                    that.requestProbeEnd(probeData, methodName, methodArgs);
                }
                return rc;
            }
        );
        return rc;
    });
    return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.basho_riak_client_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
        probeData.timer.stop();
        eventTimer = probeData.timer;

        //Work out if options, command or query are needed. Defaults to just method
        var jsonToEmit = {time: eventTimer.startTimeMillis, method: method, duration: eventTimer.timeDelta};
        var key = '';

        if (optionsAndCallbackMethods.indexOf(method) &gt; -1) {
            key = 'options';
        } else if (commandMethods.indexOf(method) &gt; -1) {
            key = 'command';
        } else if (queryMethods.indexOf(method) &gt; -1) {
            key = 'query';
        }

        if (key != '') {
            jsonToEmit[key] = methodArgs[0];
        }
        am.emit('riak', jsonToEmit);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.requestEnd" id="apidoc.element.appmetrics.basho_riak_client_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.req)
        probeData.req.stop({method: method});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.basho_riak_client_probe.prototype.requestStart" id="apidoc.element.appmetrics.basho_riak_client_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.basho_riak_client_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, methodArgs) {
    probeData.req = request.startRequest( 'basho-riak-client', 'query', false, probeData.timer );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.headless_zip" id="apidoc.module.appmetrics.headless_zip">module appmetrics.headless_zip</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.headless_zip.headlessZip" id="apidoc.element.appmetrics.headless_zip.headlessZip">
        function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>headlessZip
        <span class="apidocSignatureSpan">(dirToZip)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function headlessZip(dirToZip) {
	var outputFileName;
	if(dirToWriteTo) {
		outputFileName = path.join(dirToWriteTo, 'nodeappmetrics' + timestamp() + '.hcd')
	} else {
		outputFileName = 'nodeappmetrics' + timestamp() + '.hcd'
	}

	filesWritten.push(outputFileName)
	if(filesWritten.length &gt; filesToKeep) {
		var earliest = filesWritten.shift()
		deleteFile(earliest)
	}

	if(fs.existsSync(dirToZip)) {
		var zip = new JSZip();
		var files = fs.readdirSync(dirToZip)
		for (var i = 0, len = files.length; i &lt; len; i++) {
			zip.file(files[i], fs.readFileSync(path.join(dirToZip, files[i])), {compression : "DEFLATE"})
		}
		fs.writeFileSync(outputFileName, zip.generate({type:"nodebuffer", compression:'DEFLATE'}));
		deleteDir(dirToZip)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	}
	if(fs.existsSync(outputDir)) {
		var files = fs.readdirSync(outputDir);
		// Search for temporary output directory using pattern matching
		for (var i = 0, len = files.length; i &lt; len; i++) {
			if(/tmp_(\w+)/.test(files[i].toString())) {
				var dirToZip = path.join(outputDir, files[i])
				this.<span class="apidocCodeKeywordSpan">headlessZip</span>(dirToZip)
				return;
			}
		}
	}
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.headless_zip.setFilesToKeep" id="apidoc.element.appmetrics.headless_zip.setFilesToKeep">
        function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>setFilesToKeep
        <span class="apidocSignatureSpan">(numFiles)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFilesToKeep(numFiles) {
	filesToKeep = numFiles;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
var headlessOutputDir = agent.getOption('com.ibm.diagnostics.healthcenter.headless.output.directory');
if(headlessOutputDir) {
  headlessZip.setHeadlessOutputDir(headlessOutputDir);
}
var headlessFilesToKeep = agent.getOption('com.ibm.diagnostics.healthcenter.headless.files.to.keep');
if(headlessFilesToKeep &amp;&amp; !isNaN(headlessFilesToKeep) &amp;&amp; headlessFilesToKeep &gt; 0) {
  headlessZip.<span class="apidocCodeKeywordSpan">setFilesToKeep</span>(headlessFilesToKeep);
}
var am = this;
agent.start();
process.on('exit', function () {
  // take the event loop latency methods off the loop
  if (latencyRunning === true) {
      clearInterval(latencyCheckLoop);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.headless_zip.setHeadlessOutputDir" id="apidoc.element.appmetrics.headless_zip.setHeadlessOutputDir">
        function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>setHeadlessOutputDir
        <span class="apidocSignatureSpan">(dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setHeadlessOutputDir(dir) {
	dirToWriteTo = dir;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var prop = agent.getOption(property);
  if(prop) {
    agent.setOption(headlessPropertyMappings[property], prop);
  }
}
var headlessOutputDir = agent.getOption('com.ibm.diagnostics.healthcenter.headless.output.directory');
if(headlessOutputDir) {
  headlessZip.<span class="apidocCodeKeywordSpan">setHeadlessOutputDir</span>(headlessOutputDir);
}
var headlessFilesToKeep = agent.getOption('com.ibm.diagnostics.healthcenter.headless.files.to.keep');
if(headlessFilesToKeep &amp;&amp; !isNaN(headlessFilesToKeep) &amp;&amp; headlessFilesToKeep &gt; 0) {
  headlessZip.setFilesToKeep(headlessFilesToKeep);
}
var am = this;
agent.start();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.headless_zip.tryZipOnExit" id="apidoc.element.appmetrics.headless_zip.tryZipOnExit">
        function <span class="apidocSignatureSpan">appmetrics.headless_zip.</span>tryZipOnExit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tryZipOnExit() {
	var outputDir = dirToWriteTo;
	if(!outputDir) {
		ouputDir = process.cwd().toString()
	}
	if(fs.existsSync(outputDir)) {
		var files = fs.readdirSync(outputDir);
		// Search for temporary output directory using pattern matching
		for (var i = 0, len = files.length; i &lt; len; i++) {
			if(/tmp_(\w+)/.test(files[i].toString())) {
				var dirToZip = path.join(outputDir, files[i])
				this.headlessZip(dirToZip)
				return;
			}
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (latencyRunning === true) {
      clearInterval(latencyCheckLoop);
      clearInterval(latencyReportLoop);
  }
  var headlessMode = agent.getOption('com.ibm.diagnostics.healthcenter.headless');
  am.stop();
  if(headlessMode == 'on') {
    headlessZip.<span class="apidocCodeKeywordSpan">tryZipOnExit</span>();
  }
});

// Start the probes
probes.forEach(function (probe) {
  probe.start();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.heapdump" id="apidoc.module.appmetrics.heapdump">module appmetrics.heapdump</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.heapdump.writeSnapshot" id="apidoc.element.appmetrics.heapdump.writeSnapshot">
        function <span class="apidocSignatureSpan">appmetrics.heapdump.</span>writeSnapshot
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeSnapshot = function () {
  return addon.writeSnapshot.apply(null, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

module.exports.getJSONProfilingMode = function() {
  return jsonProfilingMode;
}

module.exports.writeSnapshot = function(arguments) {
  return heapdump.<span class="apidocCodeKeywordSpan">writeSnapshot</span>(arguments);
}

module.exports.start = function start () {
agent.setOption(propertyMappings['applicationID'], main_filename);
for(var property in headlessPropertyMappings) {
  var prop = agent.getOption(property);
  if(prop) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.http_outbound_probe" id="apidoc.module.appmetrics.http_outbound_probe">module appmetrics.http_outbound_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.http_outbound_probe.http_outbound_probe" id="apidoc.element.appmetrics.http_outbound_probe.http_outbound_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>http_outbound_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HttpOutboundProbe() {
    Probe.call(this, 'http'); // match the name of the module we're instrumenting
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_outbound_probe.super_" id="apidoc.element.appmetrics.http_outbound_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.http_outbound_probe.prototype" id="apidoc.module.appmetrics.http_outbound_probe.prototype">module appmetrics.http_outbound_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.http_outbound_probe.prototype.attach" id="apidoc.element.appmetrics.http_outbound_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
    var that = this;
    if( name == 'http' ) {
        if(target.__outboundProbeAttached__) return target;
        target.__outboundProbeAttached__ = true;

        aspect.around(target, 'request',
          // Before 'http.request' function
          function(obj, methodName, methodArgs, probeData) {


            // Get HTTP request method from options
            var options = methodArgs[0];
            var requestMethod = "GET";
            var urlRequested= "";
            var headers = "";
            if(typeof options === 'object') {
                urlRequested = formatURL(options)
                if(options.method) {
                    requestMethod = options.method;
                }
                if(options.headers) {
                    headers = options.headers;
                }
            } else if (typeof options === 'string') {
                urlRequested = options;
                var parsedOptions = url.parse(options);
                if(parsedOptions.method) {
                    requestMethod = parsedOptions.method;
                }
                if(parsedOptions.headers) {
                    headers = parsedOptions.headers;
                }
            }

            // Start metrics
            that.metricsProbeStart(probeData, requestMethod, urlRequested);
            that.requestProbeStart(probeData, requestMethod, urlRequested);

           // End metrics
           aspect.aroundCallback(methodArgs, probeData, function(target, args, probeData) {
                methodArgs.statusCode = args[0].statusCode
                that.metricsProbeEnd(probeData, requestMethod, urlRequested, args[0], headers);
                that.requestProbeEnd(probeData, requestMethod, urlRequested, args[0], headers);
            }, function(target, args, probeData, ret) {
                // Don't need to do anything after the callback
                return ret;
            });
        },
        // After 'http.request' function returns
        function(target, methodName, methodArgs, probeData, rc) {

            // If no callback has been used then end the metrics after returning from the method instead
            if (aspect.findCallbackArg(methodArgs) == undefined) {

                // Need to get request method and URL again
                var options = methodArgs[0];
                var requestMethod = "GET";
                var urlRequested= "";
                var headers = "";
                if(typeof options === 'object') {
                    urlRequested = formatURL(options)
                    if(options.method) {
                        requestMethod = options.method;
                    }
                    if(options.headers) {
                        headers = options.headers;
                    }
                } else if (typeof options === 'string') {
                    urlRequested = options;
                    var parsedOptions = url.parse(options);
                    if(parsedOptions.method) {
                        requestMethod = parsedOptions.method;
                    }
                    if(parsedOptions.headers) {
                        headers = parsedOptions.headers;
                    }
                }

                // End metrics (no response available so pass empty object)
                that.metricsProbeEnd(probeData, requestMethod, urlRequested, {}, headers);
                that.requestProbeEnd(probeData, requestMethod, urlRequested, {}, headers);
            }
            return rc;
        });

    }
    return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_outbound_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.http_outbound_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, url, res, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, url, res, headers) {
    if(probeData &amp;&amp; probeData.timer) {
        probeData.timer.stop();
        am.emit('http-outbound', {time: probeData.timer.startTimeMillis, method: method, url: url,
            duration: probeData.timer.timeDelta, statusCode: res.statusCode, contentType:res.headers?res.headers['content-type']:"
undefined", requestHeaders: headers});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_outbound_probe.prototype.requestEnd" id="apidoc.element.appmetrics.http_outbound_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, url, res, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, url, res, headers) {
    if(probeData &amp;&amp; probeData.req)
        probeData.req.stop({url: url, statusCode: res.statusCode, contentType:res.headers?res.headers['content-type']:"undefined
", requestHeaders: headers});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_outbound_probe.prototype.requestStart" id="apidoc.element.appmetrics.http_outbound_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.http_outbound_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, url) {
    var reqType = 'http-outbound';
    // Do not mark as a root request
    probeData.req = request.startRequest(reqType, url, false, probeData.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.http_probe" id="apidoc.module.appmetrics.http_probe">module appmetrics.http_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.http_probe" id="apidoc.element.appmetrics.http_probe.http_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>http_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HttpProbe() {
	Probe.call(this, 'http');
	this.config = {
			filters: []
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.super_" id="apidoc.element.appmetrics.http_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.http_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.http_probe.prototype" id="apidoc.module.appmetrics.http_probe.prototype">module appmetrics.http_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.prototype.attach" id="apidoc.element.appmetrics.http_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name == 'http' ) {
		if(target.__probeAttached__) return target;
	    target.__probeAttached__ = true;
	    var methods = ['on', 'addListener'];
	
	    aspect.before(target.Server.prototype, methods,
	      function(obj, methodName, args, probeData) {
	        if(args[0] !== 'request') return;
	        if(obj.__httpProbe__) return;
	        obj.__httpProbe__ = true;
	        aspect.aroundCallback(args, probeData, function(obj, args, probeData) {
	            var httpReq = args[0];
	            var res = args[1];
	            // Filter out urls where filter.to is ''
	            var traceUrl = that.filterUrl(httpReq);
	            if (traceUrl !== '') {
	            	that.metricsProbeStart(probeData, httpReq.method, traceUrl);
	            	that.requestProbeStart(probeData, httpReq.method, traceUrl);
	                aspect.after(res, 'end', probeData, function(obj, methodName, args, probeData, ret) {
	            		that.metricsProbeEnd(probeData, httpReq.method, traceUrl, res, httpReq);
	            		that.requestProbeEnd(probeData, httpReq.method, traceUrl, res, httpReq);
	            	});
	            }
	        });
	    });
	}
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.prototype.filterUrl" id="apidoc.element.appmetrics.http_probe.prototype.filterUrl">
        function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>filterUrl
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filterUrl = function (req) {
    var resultUrl = parse(req.url);
    var filters = this.config.filters;
    if (filters.length == 0) return resultUrl;

    var identifier = req.method + ' ' + resultUrl;
    for (var i = 0; i &lt; filters.length; ++i) {
        var filter = filters[i];
        if (filter.regex.test(identifier)) {
            return filter.to;
        }
    }
    return resultUrl;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        if(args[0] !== 'request') return;
	        if(obj.__httpProbe__) return;
	        obj.__httpProbe__ = true;
	        aspect.aroundCallback(args, probeData, function(obj, args, probeData) {
	            var httpReq = args[0];
	            var res = args[1];
	            // Filter out urls where filter.to is ''
	            var traceUrl = that.<span class="apidocCodeKeywordSpan">filterUrl</span>(httpReq);
	            if (traceUrl !== '') {
	            	that.metricsProbeStart(probeData, httpReq.method, traceUrl);
	            	that.requestProbeStart(probeData, httpReq.method, traceUrl);
	                aspect.after(res, 'end', probeData, function(obj, methodName, args, probeData, ret) {
	            		that.metricsProbeEnd(probeData, httpReq.method, traceUrl, res, httpReq);
	            		that.requestProbeEnd(probeData, httpReq.method, traceUrl, res, httpReq);
	            	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.http_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, url, res, httpReq)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, url, res, httpReq) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    am.emit('http', {time: probeData.timer.startTimeMillis, method: method, url: url, duration: probeData.timer.timeDelta, header
: res._header, statusCode: res.statusCode, contentType: res.getHeader('content-type'), requestHeader: httpReq.headers});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.prototype.requestEnd" id="apidoc.element.appmetrics.http_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, url, res, httpReq)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, url, res, httpReq) {
    if(probeData &amp;&amp; probeData.req)
        probeData.req.stop({url: url, method: method, requestHeader: httpReq.headers, statusCode: res.statusCode, header: res._header
, contentType: res.getHeader('content-type')});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.prototype.requestStart" id="apidoc.element.appmetrics.http_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, url) {
    var reqType = 'http';
    // Mark as a root request as this happens due to an external event
    probeData.req = request.startRequest(reqType, url, true, probeData.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.http_probe.prototype.setConfig" id="apidoc.element.appmetrics.http_probe.prototype.setConfig">
        function <span class="apidocSignatureSpan">appmetrics.http_probe.prototype.</span>setConfig
        <span class="apidocSignatureSpan">(newConfig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setConfig = function (newConfig) {
	if (typeof(newConfig.filters) !== 'undefined') {
		newConfig.filters.forEach(function(filter) {
			if (typeof(filter.regex) === 'undefined') {
				filter.regex = new RegExp(filter.pattern);
			}
		});
	}
	for (var prop in newConfig) {
		if (typeof(newConfig[prop]) !== 'undefined') {
			this.config[prop] = newConfig[prop];
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
       default:
           probes.forEach(function (probe) {
               if (probe.name == data) {
                   probe.enable();
               }
           });
   }
   if (config) module.exports.<span class="apidocCodeKeywordSpan">setConfig</span>(data, config);
};

/*
* Provide API to disable data collection for a given data type.
* Profiling is done via a control message to the core monitoring agent.
* Requests require asking all probes to disable request events
* Other requests are passed to any probe matching the name
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.leveldown_probe" id="apidoc.module.appmetrics.leveldown_probe">module appmetrics.leveldown_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.leveldown_probe.leveldown_probe" id="apidoc.element.appmetrics.leveldown_probe.leveldown_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>leveldown_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LeveldownProbe(){
	Probe.call(this, 'leveldown');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.leveldown_probe.super_" id="apidoc.element.appmetrics.leveldown_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.leveldown_probe.prototype" id="apidoc.module.appmetrics.leveldown_probe.prototype">module appmetrics.leveldown_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.leveldown_probe.prototype.attach" id="apidoc.element.appmetrics.leveldown_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target){	
	var that = this;	//Referencing probe
	var methods = ['put', 'get', 'del', 'batch']; //Monitored leveldown methods
	if (name != 'leveldown') return target;
	if(target.__ddProbeAttached__) return target;

	
	//Wrapping the target in new function as leveldown returns constructor
	var newTarget = function() {
		var lvldownObj = target.apply(null, arguments);
		lvldownObj._ddProbeAttached_=true;
		aspectLvldownMethod(lvldownObj, methods, that);
		return lvldownObj;
	};
	return newTarget;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.leveldown_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.leveldown_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    if (method == 'put'){
		    am.emit('leveldown', {time: probeData.timer.startTimeMillis, method: method, key: methodArgs[0], value: methodArgs[1], duration
: probeData.timer.timeDelta});
	    }
	    else if (method == 'del' || method == 'get'){
		    am.emit('leveldown', {time: probeData.timer.startTimeMillis, method: method, key: methodArgs[0], duration: probeData.timer
.timeDelta});
	    }
	    else if(method == 'batch'){
		    am.emit('leveldown', {time: probeData.timer.startTimeMillis, method: method, opCount: methodArgs[0].length, duration: probeData
.timer.timeDelta});
	    }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.leveldown_probe.prototype.requestEnd" id="apidoc.element.appmetrics.leveldown_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.req)
	    req.stop({leveldown: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.leveldown_probe.prototype.requestStart" id="apidoc.element.appmetrics.leveldown_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.leveldown_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, dbTarget, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, dbTarget, method, methodArgs) {
	 req = request.startRequest( 'leveldown', "query" );
	 req.setContext({leveldown: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.loopback_probe" id="apidoc.module.appmetrics.loopback_probe">module appmetrics.loopback_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.loopback_probe.loopback_probe" id="apidoc.element.appmetrics.loopback_probe.loopback_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>loopback_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function loopbackDJProbe(){
	Probe.call(this, 'loopback-datasource-juggler');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.loopback_probe.super_" id="apidoc.element.appmetrics.loopback_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.loopback_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.loopback_probe.prototype" id="apidoc.module.appmetrics.loopback_probe.prototype">module appmetrics.loopback_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.loopback_probe.prototype.attach" id="apidoc.element.appmetrics.loopback_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target){	
	
	var that = this;
	if (name != 'loopback-datasource-juggler') return target;
	if(target.__ddProbeAttached__) return target;
	
	//functions of DataAccessObject inherited from PersistedModel
	var commands = ['create', 'findOrCreate', 'exists', 'find', 'findById', 'remove', 'removeById', 'count'];
	var instanceCommands = ['save', 'remove', 'updateAttribute', 'updateAttributes', 'reload'];
	var dao = target.Schema.DataAccessObject;
	
	aspectJugglerMethod(dao, commands, that); //Instrument class methods
	aspectJugglerMethod(dao.prototype, instanceCommands, that); //Instrument instance methods
	
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.loopback_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.loopback_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    eventTimer = probeData.timer;
	    am.emit('loopback-datasource-juggler', {time: eventTimer.startTimeMillis, method: method, duration: eventTimer.timeDelta});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.loopback_probe.prototype.requestEnd" id="apidoc.element.appmetrics.loopback_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
	if(probeData &amp;&amp; probeData.req)
	    probeData.req.stop({loopbackDJProbe: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.loopback_probe.prototype.requestStart" id="apidoc.element.appmetrics.loopback_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.loopback_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, target, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, target, method, methodArgs) {
	 probeData.req = request.startRequest( 'loopback', "query" );
	 probeData.req.setContext({loopbackDJProbe: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.memcached_probe" id="apidoc.module.appmetrics.memcached_probe">module appmetrics.memcached_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.memcached_probe.memcached_probe" id="apidoc.element.appmetrics.memcached_probe.memcached_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>memcached_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemcachedProbe() {
	Probe.call(this, 'memcached');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.memcached_probe.super_" id="apidoc.element.appmetrics.memcached_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.memcached_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.memcached_probe.prototype" id="apidoc.module.appmetrics.memcached_probe.prototype">module appmetrics.memcached_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.memcached_probe.prototype.attach" id="apidoc.element.appmetrics.memcached_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != "memcached" ) return target;
	target.__ddProbeAttached__ = true;

	var methods = [
	// args: key, callback
	'get', 'gets', 'getMulti',
	// args: key, value, lifetime, callback
	'set', 'replace', 'add',
	// args: key, value, lifetime, cas, callback
	'cas',
	// args: key, value, callback
	'append', 'prepend',
	// args: key, amount, callback
	'increment', 'decrement', 'incr', 'decr',
	// args: key, callback
	'touch',
	// args: key, lifetime, callback
	'del', 'delete'
	// args: callback
	// 'version', 'flush', 'samples', 'slabs', 'items'
	];

	aspect.around(target.prototype, methods,
		function(target, methodName, methodArgs, context) {
			that.metricsProbeStart(context, methodName, methodArgs);
			that.requestProbeStart(context, methodName, methodArgs);
			aspect.aroundCallback(methodArgs, context,
				function(target, callbackArgs, context) {

					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
						aspect.strongTraceTransactionLink('memcached: ', methodName, methodArgs[callbackPosition]);
					}
					
					that.metricsProbeEnd(context, methodName, methodArgs);
					that.requestProbeEnd(context, methodName, methodArgs);
				}
			);
		}, function (target, methodName, methodArgs, context, rc) {
			if (aspect.findCallbackArg(methodArgs) == undefined) {
				that.metricsProbeEnd(context, methodName, methodArgs);
				that.requestProbeEnd(context, methodName, methodArgs);
			}
			return rc;
		}
	);
    return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.memcached_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.memcached_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(context, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (context, method, methodArgs) {
    if(context &amp;&amp; context.timer) {
	    context.timer.stop();
	    am.emit('memcached', {time: context.timer.startTimeMillis, method: method, key: methodArgs[0], duration: context.timer.timeDelta
});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.memcached_probe.prototype.requestEnd" id="apidoc.element.appmetrics.memcached_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (context, methodName, methodArgs) {
    if(context &amp;&amp; context.req)
	    context.req.stop({key: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.memcached_probe.prototype.requestStart" id="apidoc.element.appmetrics.memcached_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.memcached_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (context, methodName, methodArgs) {
	context.req = request.startRequest( 'memcached', methodName, false, context.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mongo_probe" id="apidoc.module.appmetrics.mongo_probe">module appmetrics.mongo_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe.mongo_probe" id="apidoc.element.appmetrics.mongo_probe.mongo_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mongo_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoProbe() {
    Probe.call(this, 'mongodb');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe.super_" id="apidoc.element.appmetrics.mongo_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.mongo_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mongo_probe.prototype" id="apidoc.module.appmetrics.mongo_probe.prototype">module appmetrics.mongo_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe.prototype.aspectCollectionMethod" id="apidoc.element.appmetrics.mongo_probe.prototype.aspectCollectionMethod">
        function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>aspectCollectionMethod
        <span class="apidocSignatureSpan">(coll, method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">aspectCollectionMethod = function (coll, method) {
    var that = this;
    var req;
    aspect.around( coll, method,
        function(target, methodName, methodArgs, probeData) {
            var collectionName = target.collectionName;

            that.metricsProbeStart(probeData, target, method, methodArgs);
            that.requestProbeStart(probeData, target, method, methodArgs);
            if (aspect.findCallbackArg(methodArgs) != undefined) {
                aspect.aroundCallback( methodArgs, probeData, function(target,args, probeData){

                    //Call the transaction link with a name and the callback for strong trace
                    var callbackPosition = aspect.findCallbackArg(methodArgs);
                    if (typeof(callbackPosition) != 'undefined') {
                        aspect.strongTraceTransactionLink('mongodb: ', methodName, methodArgs[callbackPosition]);
                    }

                    that.metricsProbeEnd(probeData, collectionName, method, methodArgs);
                    that.requestProbeEnd(probeData, method, methodArgs);
                } );
            }
        },
        function(target, methodName, methodArgs, probeData, rc) {
            var collectionName = target.collectionName;

            if (aspect.findCallbackArg(methodArgs) == undefined) {
                that.metricsProbeEnd(probeData, collectionName, method, methodArgs);
                that.requestProbeEnd(probeData, method, methodArgs);
            }
            return rc;
        }
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                    that.requestProbeEnd(probeData, method, findArgs);
                });
            });
        }
        return rc;
  });

that.<span class="apidocCodeKeywordSpan">aspectCollectionMethod</span>(coll, "insert");
that.aspectCollectionMethod(coll, "save");
that.aspectCollectionMethod(coll, "update");
that.aspectCollectionMethod(coll, "remove");
that.aspectCollectionMethod(coll, "findOne");
that.aspectCollectionMethod(coll, "count");
that.aspectCollectionMethod(coll, "findAndModify");
that.aspectCollectionMethod(coll, "findAndRemove");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe.prototype.attach" id="apidoc.element.appmetrics.mongo_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
    var that = this;
    if( name != "mongodb" ) return target;
    if(target.__ddProbeAttached__) return target;
    target.__ddProbeAttached__ = true;

    var coll = target['Collection'].prototype;
    var method = 'find';
    aspect.around( coll, "find",
        function(target, methodName, methodArgs, probeData){
            that.metricsProbeStart(probeData, target, method, methodArgs);
            that.requestProbeStart(probeData, target, method, methodArgs);
        },
        function(target, methodName, findArgs, probeData, rc){
            var collectionName = target.collectionName;

            if (rc == undefined) {
                that.metricsProbeEnd(probeData, collectionName, method, findArgs);
                that.requestProbeEnd(probeData, method, findArgs);
            } else {
                aspect.before( rc, "toArray", function(target, methodName, args, context){
                    aspect.aroundCallback( args, probeData, function(target, args, probeData){
                        that.metricsProbeEnd(probeData, collectionName, method, findArgs);
                        that.requestProbeEnd(probeData, method, findArgs);
                    });
                });
            }
            return rc;
      });

    that.aspectCollectionMethod(coll, "insert");
    that.aspectCollectionMethod(coll, "save");
    that.aspectCollectionMethod(coll, "update");
    that.aspectCollectionMethod(coll, "remove");
    that.aspectCollectionMethod(coll, "findOne");
    that.aspectCollectionMethod(coll, "count");
    that.aspectCollectionMethod(coll, "findAndModify");
    that.aspectCollectionMethod(coll, "findAndRemove");
    that.aspectCollectionMethod(coll, "aggregate");

    return target;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.mongo_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, collectionName, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, collectionName, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
        probeData.timer.stop();
        am.emit('mongo', {time: probeData.timer.startTimeMillis, query: JSON.stringify(methodArgs[0]), duration: probeData.timer
.timeDelta,
            method: method, collection: collectionName});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe.prototype.requestEnd" id="apidoc.element.appmetrics.mongo_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.req)
        probeData.req.stop( { query: JSON.stringify(methodArgs[0]) } );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mongo_probe.prototype.requestStart" id="apidoc.element.appmetrics.mongo_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.mongo_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, target, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, target, method, methodArgs) {
    probeData.req = request.startRequest( 'mongo', method + "("+target.collectionName+")", false, probeData.timer );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mqlight_probe" id="apidoc.module.appmetrics.mqlight_probe">module appmetrics.mqlight_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mqlight_probe.mqlight_probe" id="apidoc.element.appmetrics.mqlight_probe.mqlight_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mqlight_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MQLightProbe() {
	Probe.call(this, 'mqlight');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqlight_probe.super_" id="apidoc.element.appmetrics.mqlight_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mqlight_probe.prototype" id="apidoc.module.appmetrics.mqlight_probe.prototype">module appmetrics.mqlight_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mqlight_probe.prototype.attach" id="apidoc.element.appmetrics.mqlight_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != 'mqlight' ) return target;
	if(target.__probeAttached__) return;
	target.__probeAttached__ = true;

	// After 'createClient'
	aspect.after(target, 'createClient', {}, function(target, methodName, createClientArgs, context, rc) {
		var thisClient = rc; // the MQLight client that was created
		// Just monitor 'send' for now as not sure what else will be useful
		var methods = 'send';
		// Before one of the above methods is called on the client
		aspect.around(thisClient, methods, function(target, methodName, args, probeData) {
			// Start the monitoring for the method
			that.metricsProbeStart(probeData, methodName, args);
			that.requestProbeStart(probeData, methodName, args);
			// Advise the callback for the method.  Will do nothing if no callback is registered
			aspect.aroundCallback(args, probeData, function(target, callbackArgs, probeData){
				// method has completed and the callback has been called, so end the monitoring

				//Call the transaction link with a name and the callback for strong trace
                var callbackPosition = aspect.findCallbackArg(methodArgs);
                if (typeof(callbackPosition) != 'undefined') {
                    aspect.strongTraceTransactionLink('mqlight: ', methodName, methodArgs[callbackPosition]);
                }

				that.metricsProbeEnd(probeData, methodName, args, thisClient);
				that.requestProbeEnd(probeData, methodName, args, thisClient);
			});
		},
		function(target, methodName, args, probeData, rc) {
			// If no callback used then end the monitoring after returning from the method instead
			if (aspect.findCallbackArg(args) == undefined) {
				that.metricsProbeEnd(probeData, methodName, args, thisClient);
				that.requestProbeEnd(probeData, methodName, args, thisClient);
			}
			return rc;
		});

		// Advise the callback code that is called when a message is received
		aspect.before(thisClient, 'on', function(target, methodName, args, probeData) {
			// only care about 'message' events
			if(args[0] == 'message') {
				// Must be a callback so no need to check for it
				aspect.aroundCallback(args, new Object(), function(obj, callbackArgs, probeData) {
					that.metricsProbeStart(probeData, 'message', callbackArgs);
					that.requestProbeStart(probeData, 'message', callbackArgs);
				}, function (target, callbackArgs, probeData, ret) {
					// method has completed and the callback has been called, so end the monitoring

					//Call the transaction link with a name and the callback for strong trace
	                var callbackPosition = aspect.findCallbackArg(callbackArgs);
	                if (typeof(callbackPosition) != 'undefined') {
	                    aspect.strongTraceTransactionLink('mqlight: ', methodName, callbackArgs[callbackPosition]);
	                }

					that.metricsProbeEnd(probeData, 'message', callbackArgs, thisClient);
					that.requestProbeEnd(probeData, 'message', callbackArgs, thisClient);
					return ret;
				});
			}
		});
		return rc;
	});
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqlight_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.mqlight_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs, client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs, client) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    if(method == 'message') {
		    var data = methodArgs[0];
		    if(data.length &gt; 25) {
			    data = data.substring(0, 22) + "...";
		    }
		    var topic = methodArgs[1].message.topic;
		    am.emit('mqlight', {
			    time : probeData.timer.startTimeMillis,
			    clientid : client.id,
			    data : data,
			    method : method,
			    topic : topic,
			    duration : probeData.timer.timeDelta
		    });
	    } else if(method == 'send') {
		    var data = methodArgs[1];
		    if(data.length &gt; 25) {
			    data = data.substring(0, 22) + "...";
		    }
		    var qos;
		    var options; // options are optional - check number of arguments.
		    if(methodArgs.length &gt; 3) {
			    options = methodArgs[2];
			    qos = options[0];
		    }
		    am.emit('mqlight', {
			    time : probeData.timer.startTimeMillis,
			    clientid : client.id,
			    data : data,
			    method : method,
			    topic : methodArgs[0],
			    qos : qos,
			    duration : probeData.timer.timeDelta
		    });
	    }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqlight_probe.prototype.requestEnd" id="apidoc.element.appmetrics.mqlight_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs, client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs, client) {
    if(probeData &amp;&amp; probeData.req) {
	    if(method == 'message') {
		    var data = methodArgs[0];
		    if(data.length &gt; 25) {
			    data = data.substring(0, 22) + "...";
		    }
		    var topic = methodArgs[1].message.topic;
		    probeData.req.stop({clientid: client.id, data: data, method: method,  topic: methodArgs[0]});
	    } else if(method == 'send') {
		    var data = methodArgs[1];
		    if(data.length &gt; 25) {
			    data = data.substring(0, 22) + "...";
		    }
		    var qos;
		    var options; // options are optional - check number of arguments.
		    if(methodArgs.length &gt; 3) {
			    options = methodArgs[2];
			    qos = options[0];
		    }
		    probeData.req.stop({clientid: client.id, data: data, method: method,  topic: methodArgs[0], qos: qos});
	    }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqlight_probe.prototype.requestStart" id="apidoc.element.appmetrics.mqlight_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.mqlight_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, methodArgs) {
	if(method == 'message') {
		probeData.req = request.startRequest('mqlight', method, true, probeData.timer);
	} else {
		probeData.req = request.startRequest('mqlight', method, false, probeData.timer);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mqtt_probe" id="apidoc.module.appmetrics.mqtt_probe">module appmetrics.mqtt_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mqtt_probe.mqtt_probe" id="apidoc.element.appmetrics.mqtt_probe.mqtt_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mqtt_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MqttProbe() {
	Probe.call(this, 'mqtt');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqtt_probe.super_" id="apidoc.element.appmetrics.mqtt_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mqtt_probe.prototype" id="apidoc.module.appmetrics.mqtt_probe.prototype">module appmetrics.mqtt_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mqtt_probe.prototype.attach" id="apidoc.element.appmetrics.mqtt_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != "mqtt" ) return target;
	target.__ddProbeAttached__ = true;

	aspect.after(target, 'connect', {}, function(target, methodName, methodArgs, context, client) {
		var methods = 'publish';
		aspect.around(client, methods,
			function(target, methodName, methodArgs, context){
				that.metricsProbeStart(context, methodName, methodArgs);
				that.requestProbeStart(context, methodName, methodArgs);
				aspect.aroundCallback(methodArgs, context,
					function(target, args, context){

						//Call the transaction link with a name and the callback for strong trace
		                var callbackPosition = aspect.findCallbackArg(methodArgs);
		                if (typeof(callbackPosition) != 'undefined') {
		                    aspect.strongTraceTransactionLink('mqtt: ', methodName, methodArgs[callbackPosition]);
		                }

						that.metricsProbeEnd(context, methodName, methodArgs);
						that.requestProbeEnd(context, methodName, methodArgs);
					}
				);
			},
			function (target, methodName, methodArgs, context, rc) {
				if (aspect.findCallbackArg(methodArgs) == undefined) {
					that.metricsProbeEnd(context, methodName, methodArgs);
					that.requestProbeEnd(context, methodName, methodArgs);
				}
				return rc;
			}
		);

		var methods = ['on', 'addListener'];
		aspect.before(client, methods,
			function(target, methodName, methodArgs, context) {
			var eventName = 'message';
				if(methodArgs[0] !== eventName) return;
				if (aspect.findCallbackArg(methodArgs) != undefined) {
					aspect.aroundCallback(methodArgs, context,
						function(target, args, context){
							that.metricsProbeStart(context, eventName, methodArgs);
							that.requestProbeStart(context, eventName, methodArgs);
						},
						function (target, methodArgs, context, rc) {

							//Call the transaction link with a name and the callback for strong trace
			                var callbackPosition = aspect.findCallbackArg(methodArgs);
			                if (typeof(callbackPosition) != 'undefined') {
			                    aspect.strongTraceTransactionLink('mqtt: ', methodName, methodArgs[callbackPosition]);
			                }
							
							that.metricsProbeEnd(context, eventName, methodArgs);
							that.requestProbeEnd(context, eventName, methodArgs);
							return rc;
						}
					);
				};
			}
		);
		return client;
	});
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqtt_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.mqtt_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (context, methodName, methodArgs) {
    if(context &amp;&amp; context.timer) {
	    context.timer.stop();
	    // default to quality of service (qos) 0, as that's what the mqtt module does
	    var qos = 0;
	    if (methodArgs[2] &amp;&amp; (typeof(methodArgs[2]) !== 'function')) {
		    qos = methodArgs[2].qos;
	    }
	    am.emit('mqtt', {time: context.timer.startTimeMillis, method: methodName, topic: methodArgs[0], qos: qos, duration: context
.timer.timeDelta});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqtt_probe.prototype.requestEnd" id="apidoc.element.appmetrics.mqtt_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (context, methodName, methodArgs) {
    if(context &amp;&amp; context.req) {
	    var qos = 0;
	    if (methodArgs[2] &amp;&amp; (typeof(methodArgs[2]) !== 'function')) {
		    qos = methodArgs[2].qos;
	    }
	    context.req.stop({topic: methodArgs[0], qos: qos});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mqtt_probe.prototype.requestStart" id="apidoc.element.appmetrics.mqtt_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.mqtt_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (context, methodName, methodArgs) {
	if (methodName === 'message') {
		context.req = request.startRequest('mqtt', methodName, true, context.timer);
	} else {
		context.req = request.startRequest('mqtt', methodName, false, context.timer);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mysql_probe" id="apidoc.module.appmetrics.mysql_probe">module appmetrics.mysql_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mysql_probe.mysql_probe" id="apidoc.element.appmetrics.mysql_probe.mysql_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>mysql_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MySqlProbe() {
	Probe.call(this, 'mysql');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mysql_probe.super_" id="apidoc.element.appmetrics.mysql_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.mysql_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.mysql_probe.prototype" id="apidoc.module.appmetrics.mysql_probe.prototype">module appmetrics.mysql_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.mysql_probe.prototype.attach" id="apidoc.element.appmetrics.mysql_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
    if( name != "mysql" ) return target;
    target.__ddProbeAttached__ = true;

    var data = {};
	aspect.after(target, 'createConnection', data, function(target, methodName, args, probeData, rc ) {
        aspect.before( rc, 'query',
            function(target, methodName, methodArgs, probeData) {
        		var method = 'query';
        		that.metricsProbeStart(probeData, method, methodArgs);
        		that.requestProbeStart(probeData, method, methodArgs);
            	if (aspect.findCallbackArg(methodArgs) != undefined) {
            		aspect.aroundCallback( methodArgs, probeData, function(target,args){

                        //Call the transaction link with a name and the callback for strong trace
                        var callbackPosition = aspect.findCallbackArg(methodArgs);
                        if (typeof(callbackPosition) != 'undefined') {
                            aspect.strongTraceTransactionLink('mysql: ', method, methodArgs[callbackPosition]);
                        }

            			that.metricsProbeEnd(probeData, method, methodArgs);
            			that.requestProbeEnd(probeData, method, methodArgs);
            		});
            	};
            }
        );
        return rc;
    });
    return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mysql_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.mysql_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    eventTimer = probeData.timer;
	    am.emit('mysql', {time: eventTimer.startTimeMillis, query: JSON.stringify(methodArgs[0]), duration: eventTimer.timeDelta});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mysql_probe.prototype.requestEnd" id="apidoc.element.appmetrics.mysql_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.req)
	    probeData.req.stop({sql: JSON.stringify(methodArgs[0])});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.mysql_probe.prototype.requestStart" id="apidoc.element.appmetrics.mysql_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.mysql_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, methodArgs) {
	probeData.req = request.startRequest( 'mysql', "query", false, probeData.timer );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.oracle_probe" id="apidoc.module.appmetrics.oracle_probe">module appmetrics.oracle_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.oracle_probe.oracle_probe" id="apidoc.element.appmetrics.oracle_probe.oracle_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>oracle_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OracleProbe() {
	Probe.call(this, 'oracle');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracle_probe.super_" id="apidoc.element.appmetrics.oracle_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.oracle_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.oracle_probe.prototype" id="apidoc.module.appmetrics.oracle_probe.prototype">module appmetrics.oracle_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.oracle_probe.prototype.attach" id="apidoc.element.appmetrics.oracle_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != 'oracle' ) return target;
	if(target.__probeAttached__) return;
	target.__probeAttached__ = true;

	console.dir(target);

	// After 'connect' (single-user connection model)
	aspect.before(target, 'connect', function(target, methodName, args, probeData) {
		aspect.aroundCallback(args, {}, function(target, callbackArgs, probeData) {
			var err = callbackArgs[0];
			if(!err) {
				var connection = callbackArgs[1];
				// Add monitoring
				addMonitoring(connection, that);

				// Add monitoring to prepared statements
				aspect.after(connection, 'prepare', function(target, methodName, arguments, context, ret){
					addMonitoring(ret, that);
				});
			}
		});
	});
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracle_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.oracle_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    var query = methodArgs[0];
	    am.emit('oracle', {
		    time : probeData.timer.startTimeMillis,
		    query : query,
		    duration : probeData.timer.timeDelta
	    });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracle_probe.prototype.requestEnd" id="apidoc.element.appmetrics.oracle_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.req)
	    var query = methodArgs[0];
	    probeData.req.stop({query:query});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracle_probe.prototype.requestStart" id="apidoc.element.appmetrics.oracle_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.oracle_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, methodArgs) {
	probeData.req = request.startRequest('oracle', method, false, probeData.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.oracledb_probe" id="apidoc.module.appmetrics.oracledb_probe">module appmetrics.oracledb_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.oracledb_probe.oracledb_probe" id="apidoc.element.appmetrics.oracledb_probe.oracledb_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>oracledb_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OracleDBProbe() {
	Probe.call(this, 'oracledb');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracledb_probe.super_" id="apidoc.element.appmetrics.oracledb_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.oracledb_probe.prototype" id="apidoc.module.appmetrics.oracledb_probe.prototype">module appmetrics.oracledb_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.oracledb_probe.prototype.attach" id="apidoc.element.appmetrics.oracledb_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != 'oracledb' ) return target;
	if(target.__probeAttached__) return target;
	target.__probeAttached__ = true;

	// After 'getConnection' (single-user connection model)
	aspect.before(target, 'getConnection', function(target, methodName, args, probeData) {
		aspect.aroundCallback(args, {}, function(target, callbackArgs, probeData) {
			var err = callbackArgs[0];
			if(!err) {
				var connection = callbackArgs[1];
				// Add monitoring
				addMonitoring(connection, that);
			}
		});
	});
	
	// Connection pooling
	aspect.before(target, 'createPool', function(target, methodName, args, context) {
		aspect.aroundCallback(args, {}, function(target, callbackArgs, probeData) {
			var err = callbackArgs[0];
			if(!err) {
				var pool = callbackArgs[1];
				aspect.before(pool, 'getConnection', function(target, methodName, args, probeData) {
					aspect.aroundCallback(args, {}, function(target, callbackArgs, probeData) {
						var err = callbackArgs[0];
						if(!err) {
							var connection = callbackArgs[1];
							// Don't attach to the same connection more than once when connections are pooled
							if(!connection.__appmetricsProbeAttached__) {
								connection.__appmetricsProbeAttached__ = true;
								// Add monitoring
								addMonitoring(connection, that);
							}
						}
					});
				});
			}
		});
	});
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracledb_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.oracledb_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    var query = methodArgs[0];
	    am.emit('oracledb', {
		    time : probeData.timer.startTimeMillis,
		    query : query,
		    duration : probeData.timer.timeDelta
	    });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracledb_probe.prototype.requestEnd" id="apidoc.element.appmetrics.oracledb_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.req) {
	    var query = methodArgs[0];
	    probeData.req.stop({query:query});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.oracledb_probe.prototype.requestStart" id="apidoc.element.appmetrics.oracledb_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.oracledb_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, methodArgs) {
	probeData.req = request.startRequest('oracledb', method, false, probeData.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.postgres_probe" id="apidoc.module.appmetrics.postgres_probe">module appmetrics.postgres_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.postgres_probe.postgres_probe" id="apidoc.element.appmetrics.postgres_probe.postgres_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>postgres_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PostgresProbe() {
  Probe.call(this, 'pg');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.postgres_probe.super_" id="apidoc.element.appmetrics.postgres_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.postgres_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.postgres_probe.prototype" id="apidoc.module.appmetrics.postgres_probe.prototype">module appmetrics.postgres_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.postgres_probe.prototype.attach" id="apidoc.element.appmetrics.postgres_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {

  var that = this;
  if( name != "pg" ) return target;
  if(target.__ddProbeAttached__) return target;
  target.__ddProbeAttached__ = true;

  var data = {};

  //There are two methods to connect to a pg instance
  //Client Pooling or Client Instance. See https://www.npmjs.com/package/pg

  //Client Pooling
  //Before we connect
  aspect.before(target, 'connect', function(target, methodName, methodArgs, probeData) {

    //Get client result from connect callback
    if (aspect.findCallbackArg(methodArgs) != undefined) {
      aspect.aroundCallback(methodArgs, probeData, function(target, args, probeData) {

        //Extract client
        var client = args[1];

        //Connection pooling means we may get clients we have seen before
        //so only monitor queries on this client if we haven't seen it before
        if(!client.__appmetricsProbeAttached__) {
          client.__appmetricsProbeAttached__ = true;

          //Start monitoring
          monitorQuery(client,that);
        }
      });
    }
  });

  //Client Instance
  //After the client has been instantiated
  aspect.after(target, 'Client', data, function(clientTarget, methodName, methodArgs, probeData, rc) {

    //After a connection has been established on the client
    aspect.after(clientTarget, 'connect', data, function(connectionTarget, methodName, args, probeData, rc) {

      //Before the query hits, start monitoring
      monitorQuery(connectionTarget,that);
      return rc;
    });
  });
  return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.postgres_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.postgres_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
  if(probeData &amp;&amp; probeData.timer) {
    probeData.timer.stop();
    am.emit('postgres', {time: probeData.timer.startTimeMillis, query: methodArgs[0], duration: probeData.timer.timeDelta});
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.postgres_probe.prototype.requestEnd" id="apidoc.element.appmetrics.postgres_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
  if(probeData &amp;&amp; probeData.req)
    probeData.req.stop({sql: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.postgres_probe.prototype.requestStart" id="apidoc.element.appmetrics.postgres_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.postgres_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, target, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, target, method, methodArgs) {
  probeData.req = request.startRequest( 'postgres', "query", false, probeData.timer );
  probeData.req.setContext({sql: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.probe" id="apidoc.module.appmetrics.probe">module appmetrics.probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.probe.probe" id="apidoc.element.appmetrics.probe.probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>probe
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.probe.prototype" id="apidoc.module.appmetrics.probe.prototype">module appmetrics.probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.attach" id="apidoc.element.appmetrics.probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.disable" id="apidoc.element.appmetrics.probe.prototype.disable">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>disable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disable = function () {
    this.metricsProbeStart = function() {};
    this.metricsProbeEnd = function() {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
API.prototype.enable = function (data) {
	var that = this;
    that.appmetrics.enable(data);
};

API.prototype.disable = function (data) {
	var that = this;
    that.appmetrics.<span class="apidocCodeKeywordSpan">disable</span>(data);
};

API.prototype.getEnvironment = function() {
	var that = this;
	return that.environment;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.disableRequests" id="apidoc.element.appmetrics.probe.prototype.disableRequests">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>disableRequests
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disableRequests = function () {
    _requestsEnabled = false;
    this.requestProbeStart = function () {};
    this.requestProbeEnd = function () {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports.disable = function (data) {
switch (data) {
case 'profiling':
    agent.sendControlCommand("profiling_node", "off,profiling_node_subsystem");
    break;
case 'requests':
    probes.forEach(function (probe) {
        probe.<span class="apidocCodeKeywordSpan">disableRequests</span>();
    });
    break;
case 'eventloop':
    if (latencyRunning === false) break;
    latencyRunning = false;
    clearInterval(latencyCheckLoop);
    clearInterval(latencyReportLoop);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.enable" id="apidoc.element.appmetrics.probe.prototype.enable">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>enable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enable = function () {
    _enabled = true;
    if(_started) {
        this.metricsProbeStart = this.metricsStart;
        this.metricsProbeEnd = this.metricsEnd;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	return new API(agent, appmetrics);
};

util.inherits(API, EventEmitter);

API.prototype.enable = function (data) {
	var that = this;
    that.appmetrics.<span class="apidocCodeKeywordSpan">enable</span>(data);
};

API.prototype.disable = function (data) {
	var that = this;
    that.appmetrics.disable(data);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.enableRequests" id="apidoc.element.appmetrics.probe.prototype.enableRequests">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>enableRequests
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableRequests = function () {
    _requestsEnabled = true;
    if(_started) {
        this.requestProbeStart = this.requestStart;
        this.requestProbeEnd = this.requestEnd;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports.enable = function (data, config) {
switch (data) {
    case 'profiling':
        agent.sendControlCommand("profiling_node", "on,profiling_node_subsystem");
        break;
    case 'requests':
        probes.forEach(function (probe) {
            probe.<span class="apidocCodeKeywordSpan">enableRequests</span>();
        });
        break;
    case 'trace':
        if (probes.indexOf(traceProbe) === -1) {
            probes.push(traceProbe);
        }
        traceProbe.enable();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.metricsEnd" id="apidoc.element.appmetrics.probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData) {
	probeData.timer.stop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.metricsProbeEnd" id="apidoc.element.appmetrics.probe.prototype.metricsProbeEnd">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsProbeEnd
        <span class="apidocSignatureSpan">(req, res, am)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsProbeEnd = function (req, res, am) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
						aspect.strongTraceTransactionLink('axon', methodName, methodArgs[callbackPosition]);
					}

					that.<span class="apidocCodeKeywordSpan">metricsProbeEnd</span>(context, methodName, methodArgs, socketType);
					that.requestProbeEnd(context, methodName, methodArgs, socketType);
				}
				);
			},
			function (target, methodName, methodArgs, context, rc) {
				if (aspect.findCallbackArg(methodArgs) == undefined) {
					that.metricsProbeEnd(context, methodName, methodArgs, socketType);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.metricsProbeStart" id="apidoc.element.appmetrics.probe.prototype.metricsProbeStart">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsProbeStart
        <span class="apidocSignatureSpan">(req, res, am)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsProbeStart = function (req, res, am) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	aspect.after(target, ['socket'], {}, function(target, methodName, methodArgs, context, client) {
		var socketType = methodArgs[0];
		if( isSendMethod(socketType) ) {
			var methods = sendTypeToMethod[socketType];
			aspect.around(client, methods,
					function(target, methodName, methodArgs, context){
				that.<span class="apidocCodeKeywordSpan">metricsProbeStart</span>(context, methodName, methodArgs);
				that.requestProbeStart(context, methodName, methodArgs);
				aspect.aroundCallback(methodArgs, context,
						function(target, args, context) {

					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.metricsStart" id="apidoc.element.appmetrics.probe.prototype.metricsStart">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>metricsStart
        <span class="apidocSignatureSpan">(probeData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsStart = function (probeData) {
	probeData.timer = timer.start();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.requestEnd" id="apidoc.element.appmetrics.probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(req, res, am)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (req, res, am) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.requestProbeEnd" id="apidoc.element.appmetrics.probe.prototype.requestProbeEnd">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestProbeEnd
        <span class="apidocSignatureSpan">(req, res, am)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestProbeEnd = function (req, res, am) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
						aspect.strongTraceTransactionLink('axon', methodName, methodArgs[callbackPosition]);
					}

					that.metricsProbeEnd(context, methodName, methodArgs, socketType);
					that.<span class="apidocCodeKeywordSpan">requestProbeEnd</span>(context, methodName, methodArgs, socketType);
				}
				);
			},
			function (target, methodName, methodArgs, context, rc) {
				if (aspect.findCallbackArg(methodArgs) == undefined) {
					that.metricsProbeEnd(context, methodName, methodArgs, socketType);
					that.requestProbeEnd(context, methodName, methodArgs, socketType);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.requestProbeStart" id="apidoc.element.appmetrics.probe.prototype.requestProbeStart">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestProbeStart
        <span class="apidocSignatureSpan">(req, res, am)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestProbeStart = function (req, res, am) {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	aspect.after(target, ['socket'], {}, function(target, methodName, methodArgs, context, client) {
		var socketType = methodArgs[0];
		if( isSendMethod(socketType) ) {
			var methods = sendTypeToMethod[socketType];
			aspect.around(client, methods,
					function(target, methodName, methodArgs, context){
				that.metricsProbeStart(context, methodName, methodArgs);
				that.<span class="apidocCodeKeywordSpan">requestProbeStart</span>(context, methodName, methodArgs);
				aspect.aroundCallback(methodArgs, context,
						function(target, args, context) {

					//Call the transaction link with a name and the callback for strong trace
					var callbackPosition = aspect.findCallbackArg(methodArgs);
					if (typeof(callbackPosition) != 'undefined') {
						aspect.strongTraceTransactionLink('axon', methodName, methodArgs[callbackPosition]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.requestStart" id="apidoc.element.appmetrics.probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(req, res, am)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (req, res, am) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.setConfig" id="apidoc.element.appmetrics.probe.prototype.setConfig">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>setConfig
        <span class="apidocSignatureSpan">(newConfig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setConfig = function (newConfig) {
	for (var prop in newConfig) {
		if (typeof(newConfig[prop]) !== 'undefined') {
			this.config[prop] = newConfig[prop];
		}
	}
	if (this.config.filters) {
		this.config.filters.forEach(function(filter) {
			if (typeof(filter.regex) === 'undefined') {
				filter.regex = new RegExp(filter.pattern);
			}
		});
	}	
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
       default:
           probes.forEach(function (probe) {
               if (probe.name == data) {
                   probe.enable();
               }
           });
   }
   if (config) module.exports.<span class="apidocCodeKeywordSpan">setConfig</span>(data, config);
};

/*
* Provide API to disable data collection for a given data type.
* Profiling is done via a control message to the core monitoring agent.
* Requests require asking all probes to disable request events
* Other requests are passed to any probe matching the name
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.start" id="apidoc.element.appmetrics.probe.prototype.start">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function () {
    _started = true;
    if(_enabled) {
        this.metricsProbeStart = this.metricsStart;
        this.metricsProbeEnd = this.metricsEnd;
    }
    if(_requestsEnabled) {
        this.requestProbeStart = this.requestStart;
        this.requestProbeEnd = this.requestEnd;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
};

// Export monitor() API for consuming data in-process
module.exports.monitor = function() {

    if (typeof(this.api) == 'undefined') {
      this.<span class="apidocCodeKeywordSpan">start</span>();
      this.api = hcAPI.getAPI(agent, module.exports);
    }
    return this.api;
};

module.exports.lrtime = agent.lrtime;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.probe.prototype.stop" id="apidoc.element.appmetrics.probe.prototype.stop">
        function <span class="apidocSignatureSpan">appmetrics.probe.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function () {
    _started = false;
    this.metricsProbeStart = function() {};
    this.metricsProbeEnd = function() {};
    this.requestProbeStart = function () {};
    this.requestProbeEnd = function () {};

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
process.on('exit', function () {
  // take the event loop latency methods off the loop
  if (latencyRunning === true) {
      clearInterval(latencyCheckLoop);
      clearInterval(latencyReportLoop);
  }
  var headlessMode = agent.getOption('com.ibm.diagnostics.healthcenter.headless');
  am.<span class="apidocCodeKeywordSpan">stop</span>();
  if(headlessMode == 'on') {
    headlessZip.tryZipOnExit();
  }
});

// Start the probes
probes.forEach(function (probe) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.redis_probe" id="apidoc.module.appmetrics.redis_probe">module appmetrics.redis_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.redis_probe.redis_probe" id="apidoc.element.appmetrics.redis_probe.redis_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>redis_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RedisProbe() {
	Probe.call(this, 'redis');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.redis_probe.super_" id="apidoc.element.appmetrics.redis_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.redis_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.redis_probe.prototype" id="apidoc.module.appmetrics.redis_probe.prototype">module appmetrics.redis_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.redis_probe.prototype.attach" id="apidoc.element.appmetrics.redis_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != 'redis' ) return;
	if(target.__probeAttached__) return target;
	target.__probeAttached__ = true;
	var methods = [];
	[ 'APPEND', 'AUTH', 'BGREWRITEAOF', 'BGSAVE', 'BITCOUNT',
	  'BITOP', 'BITPOS', 'BLPOP', 'BRPOP', 'BRPOPLPUSH', 'CLIENT',
	  'CLUSTER', 'COMMAND', 'CONFIG', 'DBSIZE', 'DEBUG', 'DECR',
	  'DECRBY', 'DEL', 'DISCARD', 'DUMP', 'ECHO', 'EVAL', 'EVALSHA',
	  'EXISTS', 'EXPIRE', 'EXPIREAT', 'FLUSHALL', 'FLUSHDB',
	  'GEOADD', 'GEOHASH', 'GEOPOS', 'GEODIST', 'GEORADIUS',
	  'GEORADIUSBYMEMBER', 'GET', 'GETBIT', 'GETRANGE', 'GETSET', 'HDEL',
	  'HEXISTS', 'HGET', 'HGETALL', 'HINCRBY', 'HINCRBYFLOAT', 'HKEYS',
	  'HLEN', 'HMGET', 'HMSET', 'HSET', 'HSETNX', 'HSTRLEN', 'HVALS',
	  'INCR', 'INCRBY', 'INCRBYFLOAT', 'INFO', 'KEYS', 'LASTSAVE',
	  'LINDEX', 'LINSERT', 'LLEN', 'LPOP', 'LPUSH', 'LPUSHX', 'LRANGE',
	  'LREM', 'LSET', 'LTRIM', 'MGET', 'MIGRATE', 'MONITOR', 'MOVE',
	  'MSET', 'MSETNX', 'OBJECT', 'PERSIST', 'PEXPIRE', 'PEXPIREAT',
	  'PFADD', 'PFCOUNT', 'PFMERGE', 'PING', 'PSETEX', 'PSUBSCRIBE',
	  'PUBSUB', 'PTTL', 'PUBLISH', 'PUNSUBSCRIBE', 'QUIT', 'RANDOMKEY',
	  'RENAME', 'RENAMENX', 'RESTORE', 'ROLE', 'RPOP', 'RPOPLPUSH',
	  'RPUSH', 'RPUSHX', 'SADD', 'SAVE', 'SCARD', 'SCRIPT', 'SDIFF',
	  'SDIFFSTORE', 'SELECT', 'SET', 'SETBIT', 'SETEX', 'SETNX',
	  'SETRANGE', 'SHUTDOWN', 'SINTER', 'SINTERSTORE', 'SISMEMBER',
	  'SLAVEOF', 'SLOWLOG', 'SMEMBERS', 'SMOVE', 'SORT', 'SPOP',
	  'SRANDMEMBER', 'SREM', 'STRLEN', 'SUBSCRIBE', 'SUNION',
	  'SUNIONSTORE', 'SYNC', 'TIME', 'TTL', 'TYPE', 'UNSUBSCRIBE',
	  'UNWATCH', 'WAIT', 'WATCH', 'ZADD', 'ZCARD', 'ZCOUNT', 'ZINCRBY',
	  'ZINTERSTORE', 'ZLEXCOUNT', 'ZRANGE', 'ZRANGEBYLEX',
	  'ZREVRANGEBYLEX', 'ZRANGEBYSCORE', 'ZRANK', 'ZREM',
	  'ZREMRANGEBYLEX', 'ZREMRANGEBYRANK', 'ZREMRANGEBYSCORE',
	  'ZREVRANGE', 'ZREVRANGEBYSCORE', 'ZREVRANK', 'ZSCORE',
	  'ZUNIONSTORE', 'SCAN', 'SSCAN', 'HSCAN', 'ZSCAN'
	  ].map(function(m) {
		  methods.push(m);
		  methods.push(m.toLowerCase());
	  });

	<span class="apidocCodeCommentSpan">/* Instrument the basic set of asynchronous calls. */
</span>	aspect.around(target.RedisClient.prototype, methods, function(target, method, methodArgs, probeData) {
		var eventName = method.toLowerCase();
		that.metricsProbeStart(probeData, eventName, methodArgs);
		that.requestProbeStart(probeData, eventName, methodArgs);
		/* REDIS commands don't have to have a callback.
		 * All redis calls are asynchronous so we need to instrument or add a
		 * callback to stop the timer.
		 */
		aspect.aroundCallback( methodArgs, probeData, function(target, args) {

			//Call the transaction link with a name and the callback for strong trace
			var callbackPosition = aspect.findCallbackArg(methodArgs);
			aspect.strongTraceTransactionLink('redis: ', eventName, methodArgs[callbackPosition]);

			that.metricsProbeEnd(probeData, eventName, methodArgs);
			that.requestProbeEnd(probeData, eventName, methodArgs);
		});
	}, function(target, method, methodArgs, probeData, rc) {
		if (aspect.findCallbackArg(methodArgs) == undefined) {
			var eventName = method.toLowerCase();
			that.metricsProbeEnd(probeData, eventName, methodArgs);
			that.requestProbeEnd(probeData, eventName, methodArgs);
		}
	});

	/* Monitor all calls made as one batch/multi.exec call as a single event.
	 * Instrument the exec method on the object returned from client.batch()
	 * or client.multi()
	 */
	aspect.after(target.RedisClient.prototype, ['multi', 'batch', 'MULTI', 'BATCH'], {}, function(target, mode, args, probeData, client
) {
		// Log the event name as batch.exec or multi.exec
		var eventName = mode.toLowerCase() + '.exec';
		aspect.around( client, ['exec', 'EXEC'],
				function(target, method, methodArgs, probeData) {
			that.metricsProbeStart(probeData, eventName, methodArgs);
			that.requestProbeStart(probeData, eventName, methodArgs);
			/* REDIS commands don't have to have a callback.
			 * All redis calls are asynchronous so we need to instrument or add a
			 * callback to stop the timer.
			 */
			aspect.aroundCallback( methodArgs, probeData, function() {
				that.metri ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.redis_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.redis_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, cmd, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, cmd, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    am.emit('redis', {time: probeData.timer.startTimeMillis, cmd: cmd, duration: probeData.timer.timeDelta});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.redis_probe.prototype.requestEnd" id="apidoc.element.appmetrics.redis_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, cmd, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, cmd, methodArgs) {
    if(probeData &amp;&amp; probeData.req) {
	    var context = {};
	    context.cmd = cmd;
	    probeData.req.stop(context);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.redis_probe.prototype.requestStart" id="apidoc.element.appmetrics.redis_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.redis_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, cmd, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, cmd, methodArgs) {
	probeData.req = request.startRequest( 'redis', cmd, false, probeData.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.request" id="apidoc.module.appmetrics.request">module appmetrics.request</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.request.setConfig" id="apidoc.element.appmetrics.request.setConfig">
        function <span class="apidocSignatureSpan">appmetrics.request.</span>setConfig
        <span class="apidocSignatureSpan">(newConfig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setConfig = function (newConfig) {
	<span class="apidocCodeCommentSpan">/*
	 * merge passed in config with current one
	 */
</span>	for (var prop in newConfig) {
		if (typeof(newConfig[prop]) !== 'undefined') {
			config[prop] = newConfig[prop];
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
       default:
           probes.forEach(function (probe) {
               if (probe.name == data) {
                   probe.enable();
               }
           });
   }
   if (config) module.exports.<span class="apidocCodeKeywordSpan">setConfig</span>(data, config);
};

/*
* Provide API to disable data collection for a given data type.
* Profiling is done via a control message to the core monitoring agent.
* Requests require asking all probes to disable request events
* Other requests are passed to any probe matching the name
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.request.startMethod" id="apidoc.element.appmetrics.request.startMethod">
        function <span class="apidocSignatureSpan">appmetrics.request.</span>startMethod
        <span class="apidocSignatureSpan">( name , eventTimer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startMethod = function ( name , eventTimer) {
    var req = new Request( null, name );
    if( eventTimer ) {
    	req.timer = eventTimer;
    }
    req.start();
    return req;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return chopped + String.fromCharCode(lastChar.charCodeAt(0) + 1);
    }
}
    }

    var f = function() {
var instrumentedMethodKNJ = true;
var req = request.<span class="apidocCodeKeywordSpan">startMethod</span>(fullName);
var args = arguments;

var cxtFunc = function() {
    var cxt = {};
    for( var i = 0; i&lt;args.length; ++i ) {
        var arg = args[i];
        var value;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.request.startRequest" id="apidoc.element.appmetrics.request.startRequest">
        function <span class="apidocSignatureSpan">appmetrics.request.</span>startRequest
        <span class="apidocSignatureSpan">( type, name, root, eventTimer )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startRequest = function ( type, name, root, eventTimer ) {
    var req = new Request( type, name, root );
    if( eventTimer ) {
    	req.timer = eventTimer;
    }
    req.start();
    return req;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

/*
 * Heavyweight request probes for AXON messages
 */
AxonProbe.prototype.requestStart = function (context, methodName, methodArgs) {
	if (methodName === 'message') {
		context.req = request.<span class="apidocCodeKeywordSpan">startRequest</span>('axon', methodName, true, context.timer
);
	} else {
		context.req = request.startRequest('axon', methodName, false, context.timer);
	}
};

AxonProbe.prototype.requestEnd = function (context, methodName, methodArgs) {
if(context &amp;&amp; context.req)
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.serializer" id="apidoc.module.appmetrics.serializer">module appmetrics.serializer</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.serializer.deserialize" id="apidoc.element.appmetrics.serializer.deserialize">
        function <span class="apidocSignatureSpan">appmetrics.serializer.</span>deserialize
        <span class="apidocSignatureSpan">(obj, objCache)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (obj, objCache) {
	if (typeof(obj) === 'string') {
		obj = JSON.parse(obj);
	}
	if (typeof(objCache) === 'undefined') {
		objCache = [];
	}
	var idCount = obj.idCount;
	delete obj.idCount;
	objCache[idCount] = obj;
	
	for (var prop in obj) {
		if (typeof(obj[prop]) === 'object' &amp;&amp; obj[prop] !== null) {
			exports.deserialize(obj[prop], objCache);
		}
		if (typeof(obj[prop]) === 'string'){
			if (obj[prop].indexOf(CIRCULAR) === 0) {
				var index = obj[prop].substring(9, obj[prop].length);
				obj[prop] = objCache[index];
			}
		}
	}
	return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}	
	
var formatApi = function (message) {
	var lines = message.trim().split('\n');
	lines.forEach(function (line) {
	    var parts = line.split(/:(.+)/);
        var topic = parts[0];
        var data = serializer.<span class="apidocCodeKeywordSpan">deserialize</span>(parts[1]);
        that.emit(topic, data);	
	});
};

agent.localConnect(function events(topic, data) {
	if (topic === 'api') {
		// API events are passed by copy
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.serializer.serialize" id="apidoc.element.appmetrics.serializer.serialize">
        function <span class="apidocSignatureSpan">appmetrics.serializer.</span>serialize
        <span class="apidocSignatureSpan">(obj, objCache, id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (obj, objCache, id) {
	var newObj = {};
	
	<span class="apidocCodeCommentSpan">/*
	 * Add the head object to the cache
	 */
</span>	if (typeof(objCache) === 'undefined') {
		objCache = [];
		objCache.push(obj);
		newObj.idCount = 0;
	}

	if (typeof(id) !== 'undefined') {
		newObj.idCount = id;
	}
	/*
	 * Walk values in object
	 */
	for (var prop in obj) {
		if (obj.hasOwnProperty(prop)){
			/*
			 * Need to find object references
			 */
			if (typeof(obj[prop]) === 'object' &amp;&amp; obj[prop] !== null) {
				/*
				 * Check if its an array
				 */
				if (Array.isArray(obj[prop])) {
					if (obj[prop].length == 0) {
						newObj[prop] = obj[prop];
					} else {
						newObj[prop] = [];
						for (var idx = 0 ; idx &lt; obj[prop].length; idx++) {
							var id = objCache.indexOf(obj[prop][idx]);
							if (id &gt; -1) {
								/*
								 * Found an entry, so replace obj[prop] with a reference
								 */
								newObj[prop][idx] = CIRCULAR + id;
							} else {
								/*
								 * Not found, so push it to the cache and serialize
								 */	
								objCache.push(obj[prop][idx]);
								newObj[prop][idx] = exports.serialize(obj[prop][idx], objCache, objCache.indexOf(obj[prop][idx]));
							}
						}
					}
					
				} else {
					/*
					 * Got a normal object. Check to see if we've seen it before
					 */
					var id = objCache.indexOf(obj[prop]);
					if (id &gt; -1) {
					/*
					 * Found an entry, so replace obj[prop] with a reference
					 */
						newObj[prop] = CIRCULAR + id;
					} else {
						/*
						 * Not found, so push it to the cache and serialize
						 */	
						objCache.push(obj[prop]);
						newObj[prop] = exports.serialize(obj[prop], objCache, objCache.indexOf(obj[prop]));
					}
				}
			} else {
				newObj[prop] = obj[prop];
			}
		}
	}
	if (newObj.idCount == 0) {
		return JSON.stringify(newObj);
	} else {
		return newObj;
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
								 */
								newObj[prop][idx] = CIRCULAR + id;
							} else {
								/*
								 * Not found, so push it to the cache and serialize
								 */	
								objCache.push(obj[prop][idx]);
								newObj[prop][idx] = exports.<span class="apidocCodeKeywordSpan">serialize</span>(obj[prop][idx], objCache, objCache.indexOf
(obj[prop][idx]));
							}
						}
					}
					
				} else {
					/*
					 * Got a normal object. Check to see if we've seen it before
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.socketio_probe" id="apidoc.module.appmetrics.socketio_probe">module appmetrics.socketio_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.socketio_probe.socketio_probe" id="apidoc.element.appmetrics.socketio_probe.socketio_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>socketio_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SocketioProbe() {
	Probe.call(this, 'socket.io');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.socketio_probe.super_" id="apidoc.element.appmetrics.socketio_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.socketio_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.socketio_probe.prototype" id="apidoc.module.appmetrics.socketio_probe.prototype">module appmetrics.socketio_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.socketio_probe.prototype.attach" id="apidoc.element.appmetrics.socketio_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if(name != "socket.io") return target;
	<span class="apidocCodeCommentSpan">/*
	 * Don't set __ddProbeAttached__ = true as we need to probe and return
	 * the constructor each time
	 */
</span>
	/*
	 * Patch the constructor so that we can patch io.sockets.emit() calls
	 * to broadcast to clients. This also picks up calls to io.emit() as
	 * they map down to io.socket.emit()
	 */
	var newtarget = aspect.afterConstructor(target, {},
		function(target, methodName, methodArgs, context, server) {
			var broadcast = 'broadcast';
			aspect.around(server.sockets, 'emit',
				function(target, methodName, methodArgs, context){
					that.metricsProbeStart(context, broadcast, methodArgs);
					that.requestProbeStart(context, broadcast, methodArgs);
				},
				function(target, methodName, methodArgs, context, rc){
					that.metricsProbeEnd(context, broadcast, methodArgs);
					that.requestProbeEnd(context, broadcast, methodArgs);
				}
			);
			return server;
		}
	);
	/*
	 * Remap the listen API to point to new constructor
	 */
	newtarget.listen = newtarget;

	/*
	 * We patch the constructor every time, but only want to patch prototype
	 * functions once otherwise we'll generate multiple events
	 */
	if (!target.__prototypeProbeAttached__) {
		target.__prototypeProbeAttached__ = true;
		
		aspect.before(target.prototype, ['on', 'addListener'],
				function(target, methodName, methodArgs, context) {
				if(methodArgs[0] !== 'connection') return;
				if (aspect.findCallbackArg(methodArgs) != undefined) {
					aspect.aroundCallback(methodArgs, context, function(target, methodArgs, context) {
						var socket = methodArgs[0];
						/*
						 * Patch Socket#emit() calls
						 */
						aspect.around(socket, 'emit',
							function(target, methodName, methodArgs, context){
								that.metricsProbeStart(context, methodName, methodArgs);
								that.requestProbeStart(context, methodName, methodArgs);
							},
							function(target, methodName, methodArgs, context, rc){
								//Call the transaction link with a name and the callback for strong trace
					            var callbackPosition = aspect.findCallbackArg(methodArgs);
					            if (typeof(callbackPosition) != 'undefined') {
					            	aspect.strongTraceTransactionLink('socket.io: ', methodName, methodArgs[callbackPosition]);
					            }

								that.metricsProbeEnd(context, methodName, methodArgs);
								that.requestProbeEnd(context, methodName, methodArgs);
								return rc;
							}
						);
						/*
						 * Patch socket.on incoming events
						 */
						var receive = 'receive';
						aspect.before(socket, ['on', 'addListener'],
							function(target, methodName, methodArgs, context) {
								aspect.aroundCallback(methodArgs, context,
									function(target, callbackArgs, context){
										that.metricsProbeStart(context, receive, methodArgs);
										that.requestProbeStart(context, receive, methodArgs);
									},
									function (target, callbackArgs, context, rc) {

										//Call the transaction link with a name and the callback for strong trace
							            var callbackPosition = aspect.findCallbackArg(methodArgs);
							            if (typeof(callbackPosition) != 'undefined') {
							            	aspect.strongTraceTransactionLink('socket.io: ', methodName, methodArgs[callbackPosition]);
							            }

										that.metricsProbeEnd(context, receive, methodArgs);
										that.requestProbeEnd(context, receive, methodArgs);
										return rc;
									}
								);
							}
						);
					}
				);
			}
		});
	}
	return newtarget;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.socketio_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.socketio_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (context, methodName, methodArgs) {
    if(context &amp;&amp; context.timer) {
	    context.timer.stop();
	    am.emit('socketio', {time: context.timer.startTimeMillis, method: methodName, event: methodArgs[0], duration: context.timer
.timeDelta});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.socketio_probe.prototype.requestEnd" id="apidoc.element.appmetrics.socketio_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (context, methodName, methodArgs) {
    if(context &amp;&amp; context.req)
	    context.req.stop({method: methodName, event: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.socketio_probe.prototype.requestStart" id="apidoc.element.appmetrics.socketio_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.socketio_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(context, methodName, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (context, methodName, methodArgs) {
	<span class="apidocCodeCommentSpan">/*
	 * method names are "broadcast", "receive" and "emit"
	 */
</span>	if (methodName !== 'receive') {
		context.req = request.startRequest('socketio', methodName, false, context.timer);
	} else {
		context.req = request.startRequest('socketio', methodName, true, context.timer);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.strong_express_metrics_probe" id="apidoc.module.appmetrics.strong_express_metrics_probe">module appmetrics.strong_express_metrics_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.strong_express_metrics_probe.strong_express_metrics_probe" id="apidoc.element.appmetrics.strong_express_metrics_probe.strong_express_metrics_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>strong_express_metrics_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StrongExpressMetricsProbe() {
  Probe.call(this, 'strong-express-metrics');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strong_express_metrics_probe.super_" id="apidoc.element.appmetrics.strong_express_metrics_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.strong_express_metrics_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.strong_express_metrics_probe.prototype" id="apidoc.module.appmetrics.strong_express_metrics_probe.prototype">module appmetrics.strong_express_metrics_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.strong_express_metrics_probe.prototype.attach" id="apidoc.element.appmetrics.strong_express_metrics_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.strong_express_metrics_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
  var that = this;
  if( name != "strong-express-metrics" ) return target;
  if(target.__ddProbeAttached__) return target;
  target.__ddProbeAttached__ = true;

  // Call the onRecord function and emit an appmetrics event
  target.onRecord(function(record) {
    am.emit('express:usage-record', record);
  });
  return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.strong_mq_probe" id="apidoc.module.appmetrics.strong_mq_probe">module appmetrics.strong_mq_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.strong_mq_probe.strong_mq_probe" id="apidoc.element.appmetrics.strong_mq_probe.strong_mq_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>strong_mq_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Strong_MQProbe() {
	Probe.call(this, 'strong-mq');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strong_mq_probe.super_" id="apidoc.element.appmetrics.strong_mq_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.strong_mq_probe.prototype" id="apidoc.module.appmetrics.strong_mq_probe.prototype">module appmetrics.strong_mq_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.strong_mq_probe.prototype.attach" id="apidoc.element.appmetrics.strong_mq_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if (name != "strong-mq") {
		return target;
	}
	target.__ddProbeAttached__ = true;
	aspect.after(target, 'create', {}, function(target, methodName, methodArgs,
			context, connection) {

		aspect.after(connection, [ 'createPushQueue', 'createPubQueue' ], {}, function(target,
				methodName, methodArgs, context, queue) {
			var socketType = methodName;
			var methods = typeToMethods[socketType];
			aspect.around(queue, methods, function(target, methodName,
					methodArgs, context) {
				that.metricsProbeStart(context, methodName, methodArgs);
				that.requestProbeStart(context, methodName, methodArgs);
				aspect.aroundCallback(methodArgs, context, function(target,
						args, context) {

					//Call the transaction link with a name and the callback for strong trace
		            var callbackPosition = aspect.findCallbackArg(methodArgs);
		            if (typeof(callbackPosition) != 'undefined') {
		            	aspect.strongTraceTransactionLink('strong-mq: ', methodName, methodArgs[callbackPosition]);
		            }

					that.metricsProbeEnd(context, methodName, methodArgs);
					that.requestProbeEnd(context, methodName, methodArgs);
				});
			}, function(target, methodName, methodArgs, context, rc) {
				if (aspect.findCallbackArg(methodArgs) == undefined) {
					that.metricsProbeEnd(context, methodName, methodArgs, typeToEventType[socketType]);
					that.requestProbeEnd(context, methodName, methodArgs, typeToEventType[socketType]);
				}
				return rc;
			});
			return queue;
		});
		aspect.after(connection, [ 'createPullQueue', 'createSubQueue' ], {},
				function(target, methodName, methodArgs, context, queue) {
			var socketType = methodName;
			var methods = typeToMethods[socketType];
			aspect.before(queue, methods, function(target, methodName,
					methodArgs, context) {
				var eventName = 'message';
				if (aspect.findCallbackArg(methodArgs) != undefined) {
					aspect.aroundCallback(methodArgs, context,
							function(target, args, context){
						that.metricsProbeStart(context, eventName, methodArgs);
						that.requestProbeStart(context, eventName, methodArgs);
					},
					function (target, methodArgs, context, rc) {

						//Call the transaction link with a name and the callback for strong trace
			            var callbackPosition = aspect.findCallbackArg(methodArgs);
			            if (typeof(callbackPosition) != 'undefined') {
			            	aspect.strongTraceTransactionLink('strong-mq: ', methodName, methodArgs[callbackPosition]);
			            }
						
						that.metricsProbeEnd(context, eventName, methodArgs, typeToEventType[socketType]);
						that.requestProbeEnd(context, eventName, methodArgs, typeToEventType[socketType]);
						return rc;
					}
					);
				};
			});
			return queue;
		});
		return connection;
	});
	return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strong_mq_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.strong_mq_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs, eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (context, methodName, methodArgs, eventType) {
    if(context &amp;&amp; context.timer) {
	    context.timer.stop();
	    // default to quality of service (qos) 0, as that's what the strong-mq module does
	    var eventData ={time: context.timer.startTimeMillis, duration: context.timer.timeDelta, type: eventType}
	    if( methodName == 'publish') {
		    eventData.method = methodName;
	    } else {
		    eventData.event = 'message';
	    }
	    am.emit('strong-mq', eventData);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strong_mq_probe.prototype.requestEnd" id="apidoc.element.appmetrics.strong_mq_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(context, methodName, methodArgs, socketType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (context, methodName, methodArgs, socketType) {
    if(context &amp;&amp; context.req)
	    context.req.stop({topic: methodArgs[0]});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strong_mq_probe.prototype.requestStart" id="apidoc.element.appmetrics.strong_mq_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.strong_mq_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(context, methodName, methodArgs, socketType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (context, methodName, methodArgs, socketType) {
	if (methodName === 'publish') {
		context.req = request.startRequest('strong-mq', methodName, false, context.timer);
	} else {
		<span class="apidocCodeCommentSpan">/* Received messages mark the start of requests. */
</span>		context.req = request.startRequest('strong-mq', 'message', true, context.timer);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.strongoracle_probe" id="apidoc.module.appmetrics.strongoracle_probe">module appmetrics.strongoracle_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.strongoracle_probe.strongoracle_probe" id="apidoc.element.appmetrics.strongoracle_probe.strongoracle_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>strongoracle_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StrongOracleProbe() {
	Probe.call(this, 'strong-oracle');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strongoracle_probe.super_" id="apidoc.element.appmetrics.strongoracle_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.strongoracle_probe.prototype" id="apidoc.module.appmetrics.strongoracle_probe.prototype">module appmetrics.strongoracle_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.strongoracle_probe.prototype.attach" id="apidoc.element.appmetrics.strongoracle_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">(name, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (name, target) {
	var that = this;
	if( name != 'strong-oracle' ) return target;
	if(target.__probeAttached__) return;
	target.__probeAttached__ = true;

	// Use afterConstructor because 'target' here is the constructor
	var newtarget = aspect.afterConstructor(target, {},
		function(target, methodName, methodArgs, context, ret) {
		// 'ret' here is the strong-oracle target
		// Before 'connect'
		aspect.before(ret, 'connect', function(target, methodName, args, probeData) {
			aspect.aroundCallback(args, {}, function(target, callbackArgs, probeData) {
				var err = callbackArgs[0];
				if(!err) {
					var connection = callbackArgs[1];
					// Don't attach to the same connection more than once when connections are pooled
					if(!connection.__appmetricsProbeAttached__) {
						connection.__appmetricsProbeAttached__ = true;
						// Add monitoring
						addMonitoring(connection, that);
					}
				}
			});
		});
		return ret;
	});
	return newtarget;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strongoracle_probe.prototype.metricsEnd" id="apidoc.element.appmetrics.strongoracle_probe.prototype.metricsEnd">
        function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>metricsEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">metricsEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.timer) {
	    probeData.timer.stop();
	    var query = methodArgs[0];
	    am.emit('strong-oracle', {
		    time : probeData.timer.startTimeMillis,
		    query : query,
		    duration : probeData.timer.timeDelta
	    });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strongoracle_probe.prototype.requestEnd" id="apidoc.element.appmetrics.strongoracle_probe.prototype.requestEnd">
        function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>requestEnd
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestEnd = function (probeData, method, methodArgs) {
    if(probeData &amp;&amp; probeData.req) {
	    var query = methodArgs[0];
	    probeData.req.stop({query:query});
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.strongoracle_probe.prototype.requestStart" id="apidoc.element.appmetrics.strongoracle_probe.prototype.requestStart">
        function <span class="apidocSignatureSpan">appmetrics.strongoracle_probe.prototype.</span>requestStart
        <span class="apidocSignatureSpan">(probeData, method, methodArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestStart = function (probeData, method, methodArgs) {
	probeData.req = request.startRequest('strong-oracle', method, false, probeData.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.timer" id="apidoc.module.appmetrics.timer">module appmetrics.timer</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.timer.start" id="apidoc.element.appmetrics.timer.start">
        function <span class="apidocSignatureSpan">appmetrics.timer.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (){ return new Timer(); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
};

// Export monitor() API for consuming data in-process
module.exports.monitor = function() {

    if (typeof(this.api) == 'undefined') {
      this.<span class="apidocCodeKeywordSpan">start</span>();
      this.api = hcAPI.getAPI(agent, module.exports);
    }
    return this.api;
};

module.exports.lrtime = agent.lrtime;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.trace_probe" id="apidoc.module.appmetrics.trace_probe">module appmetrics.trace_probe</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.trace_probe.trace_probe" id="apidoc.element.appmetrics.trace_probe.trace_probe">
        function <span class="apidocSignatureSpan">appmetrics.</span>trace_probe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TraceProbe() {
    Probe.call(this, 'trace');
    this.config = {
            includeModules: [],
            excludeModules: []
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.trace_probe.super_" id="apidoc.element.appmetrics.trace_probe.super_">
        function <span class="apidocSignatureSpan">appmetrics.trace_probe.</span>super_
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Probe(name) {
	this.name = name;
	this.config = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.appmetrics.trace_probe.prototype" id="apidoc.module.appmetrics.trace_probe.prototype">module appmetrics.trace_probe.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.appmetrics.trace_probe.prototype.attach" id="apidoc.element.appmetrics.trace_probe.prototype.attach">
        function <span class="apidocSignatureSpan">appmetrics.trace_probe.prototype.</span>attach
        <span class="apidocSignatureSpan">( moduleName, target )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function ( moduleName, target ) {
    if( moduleName.slice(0,1) != "." || stopList[moduleName] || !isAppInnerRequire() ||
        this.config.excludeModules.indexOf(moduleName) != -1 ) {

        return target;
    }
    if(target.__ddProbeAttached__) {
        return target;
    }
    var ret = target;
    if (typeof(target) != "function") {
        instrumentMethods(moduleName, target);
    } else {
        instrumentMethods(moduleName, target.prototype);
        ret = target;
        if(target &amp;&amp; target.prototype &amp;&amp; Object.keys(target.prototype).length==0 &amp;&amp; Object.keys(target).length==0){
            ret = function () {
                var rc = target.apply(this, arguments);
                instrumentMethods(moduleName, rc);
                return rc;
            }
        }
    }

    ret.__ddProbeAttached__ = function(){return true};
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

aspect.after(module.__proto__, 'require', data, function(obj, methodName, args, context, ret) {
if (ret == null || ret.__ddProbeAttached__) {
    return ret;
} else {
    for (var i = 0; i &lt; probes.length; i++) {
        if (probes[i].name === args[0]) {
            ret = probes[i].<span class="apidocCodeKeywordSpan">attach</span>(args[0], ret, module.exports);
        }
        if (probes[i].name === 'trace') {
            ret = probes[i].attach(args[0], ret);
        }
    }
    return ret;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.trace_probe.prototype.enable" id="apidoc.element.appmetrics.trace_probe.prototype.enable">
        function <span class="apidocSignatureSpan">appmetrics.trace_probe.prototype.</span>enable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enable = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	return new API(agent, appmetrics);
};

util.inherits(API, EventEmitter);

API.prototype.enable = function (data) {
	var that = this;
    that.appmetrics.<span class="apidocCodeKeywordSpan">enable</span>(data);
};

API.prototype.disable = function (data) {
	var that = this;
    that.appmetrics.disable(data);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.appmetrics.trace_probe.prototype.enableRequests" id="apidoc.element.appmetrics.trace_probe.prototype.enableRequests">
        function <span class="apidocSignatureSpan">appmetrics.trace_probe.prototype.</span>enableRequests
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableRequests = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports.enable = function (data, config) {
switch (data) {
    case 'profiling':
        agent.sendControlCommand("profiling_node", "on,profiling_node_subsystem");
        break;
    case 'requests':
        probes.forEach(function (probe) {
            probe.<span class="apidocCodeKeywordSpan">enableRequests</span>();
        });
        break;
    case 'trace':
        if (probes.indexOf(traceProbe) === -1) {
            probes.push(traceProbe);
        }
        traceProbe.enable();
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>